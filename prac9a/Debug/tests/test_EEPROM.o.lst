   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 18, 4
  11              		.file	"test_EEPROM.c"
  21              	.Ltext0:
  22              		.file 1 "../tests/test_EEPROM.c"
 1796              		.align	2
 1797              	.LC0:
 1798 0000 0A0A4361 		.ascii	"\012\012Cargando en RAM el contenido de IIC-EEPROM "
 1798      7267616E 
 1798      646F2065 
 1798      6E205241 
 1798      4D20656C 
 1799 002d 41543234 		.ascii	"AT24C04:\012\000"
 1799      4330343A 
 1799      0A00
 1800 0037 00       		.align	2
 1801              	.LC1:
 1802 0038 202D204C 		.ascii	" - Lectura aleatoria (\000"
 1802      65637475 
 1802      72612061 
 1802      6C656174 
 1802      6F726961 
 1803 004f 00       		.align	2
 1804              	.LC2:
 1805 0050 20627974 		.ascii	" bytes)\012\000"
 1805      6573290A 
 1805      00
 1806 0059 000000   		.align	2
 1807              	.LC3:
 1808 005c 202D204C 		.ascii	" - Lectura secuencial (\000"
 1808      65637475 
 1808      72612073 
 1808      65637565 
 1808      6E636961 
 1809              		.align	2
 1810              	.LC4:
 1811 0074 20627974 		.ascii	" bytes)\000"
 1811      65732900 
 1812              		.align	2
 1813              	.LC5:
 1814 007c 4552524F 		.ascii	"ERROR: lectura aleatoria y secuencial no son coinci"
 1814      523A206C 
 1814      65637475 
 1814      72612061 
 1814      6C656174 
 1815 00af 64656E74 		.ascii	"dentes\012\000"
 1815      65730A00 
 1816 00b7 00       		.align	2
 1817              	.LC6:
 1818 00b8 0A566F6C 		.ascii	"\012Volcado del contenido inicial de la memoria IIC"
 1818      6361646F 
 1818      2064656C 
 1818      20636F6E 
 1818      74656E69 
 1819 00e8 2D454550 		.ascii	"-EEPROM AT24C04:\012\000"
 1819      524F4D20 
 1819      41543234 
 1819      4330343A 
 1819      0A00
 1820 00fa 0000     		.align	2
 1821              	.LC7:
 1822 00fc 0A00     		.ascii	"\012\000"
 1823 00fe 0000     		.align	2
 1824              	.LC8:
 1825 0100 303000   		.ascii	"00\000"
 1826 0103 00       		.align	2
 1827              	.LC9:
 1828 0104 683A00   		.ascii	"h:\000"
 1829 0107 00       		.align	2
 1830              	.LC10:
 1831 0108 203B2000 		.ascii	" ; \000"
 1832              		.align	2
 1833              	.LC11:
 1834 010c 0A0A4D6F 		.ascii	"\012\012Modificacion del contenido de la memoria II"
 1834      64696669 
 1834      63616369 
 1834      6F6E2064 
 1834      656C2063 
 1835 0139 432D4545 		.ascii	"C-EEPROM AT24C04:\012\000"
 1835      50524F4D 
 1835      20415432 
 1835      34433034 
 1835      3A0A00
 1836              		.align	2
 1837              	.LC12:
 1838 014c 20202D20 		.ascii	"  - Introduzca una direccion (0h-1ffh): \000"
 1838      496E7472 
 1838      6F64757A 
 1838      63612075 
 1838      6E612064 
 1839 0175 000000   		.align	2
 1840              	.LC13:
 1841 0178 20202D20 		.ascii	"  - Introduzca el dato (0h-ffh): \000"
 1841      496E7472 
 1841      6F64757A 
 1841      63612065 
 1841      6C206461 
 1842 019a 0000     		.align	2
 1843              	.LC14:
 1844 019c 0A566F6C 		.ascii	"\012Volcando en la IIC-EEPROM AT24C04 el contenido "
 1844      63616E64 
 1844      6F20656E 
 1844      206C6120 
 1844      4949432D 
 1845 01cc 6465206C 		.ascii	"de la RAM:\012\000"
 1845      61205241 
 1845      4D3A0A00 
 1846              		.align	2
 1847              	.LC15:
 1848 01d8 202D2045 		.ascii	" - Escritura aleatoria (\000"
 1848      73637269 
 1848      74757261 
 1848      20616C65 
 1848      61746F72 
 1849 01f1 000000   		.align	2
 1850              	.LC16:
 1851 01f4 4552524F 		.ascii	"ERROR: La escritura aleatoria falla.\012\000"
 1851      523A204C 
 1851      61206573 
 1851      63726974 
 1851      75726120 
 1852 021a 0000     		.align	2
 1853              	.LC17:
 1854 021c 202D2045 		.ascii	" - Escritura secuencial (\000"
 1854      73637269 
 1854      74757261 
 1854      20736563 
 1854      75656E63 
 1855 0236 0000     		.align	2
 1856              	.LC18:
 1857 0238 4552524F 		.ascii	"ERROR: La escritura secuencial falla.\012\000"
 1857      523A204C 
 1857      61206573 
 1857      63726974 
 1857      75726120 
 1858 025f 00       		.align	2
 1859              	.LC19:
 1860 0260 0A417061 		.ascii	"\012Apague la placa y vuelva a cargar y ejecutar el"
 1860      67756520 
 1860      6C612070 
 1860      6C616361 
 1860      20792076 
 1861 0290 2070726F 		.ascii	" programa.\012\000"
 1861      6772616D 
 1861      612E0A00 
 1862              		.text
 1863              		.align	2
 1864              		.global	test_EEPROM
 1866              	test_EEPROM:
 1867              	.LFB0:
   1:../tests/test_EEPROM.c **** #include "test_EEPROM.h"
   2:../tests/test_EEPROM.c **** #include "../at24c04.h"
   3:../tests/test_EEPROM.c **** #include "../44b.h"
   4:../tests/test_EEPROM.c **** #include "../uart.h"
   5:../tests/test_EEPROM.c **** 
   6:../tests/test_EEPROM.c **** void test_EEPROM(void) {
 1868              		.loc 1 6 0
 1869              		.cfi_startproc
 1870              		@ Function supports interworking.
 1871              		@ args = 0, pretend = 0, frame = 1040
 1872              		@ frame_needed = 1, uses_anonymous_args = 0
 1873 0000 0DC0A0E1 		mov	ip, sp
 1874              	.LCFI0:
 1875              		.cfi_def_cfa_register 12
 1876 0004 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 1877 0008 04B04CE2 		sub	fp, ip, #4
 1878              		.cfi_offset 14, -8
 1879              		.cfi_offset 13, -12
 1880              		.cfi_offset 11, -16
 1881              	.LCFI1:
 1882              		.cfi_def_cfa 11, 4
 1883 000c 41DE4DE2 		sub	sp, sp, #1040
   7:../tests/test_EEPROM.c ****     uint8 buffer[AT24C04_DEPTH], buffer_aux[AT24C04_DEPTH];
   8:../tests/test_EEPROM.c ****     uint16 i, j;
   9:../tests/test_EEPROM.c ****     uint32 addr, data;
  10:../tests/test_EEPROM.c **** 
  11:../tests/test_EEPROM.c **** 	uart0_puts( "\n\nCargando en RAM el contenido de IIC-EEPROM AT24C04:\n" );
 1884              		.loc 1 11 0
 1885 0010 B8049FE5 		ldr	r0, .L28
 1886 0014 FEFFFFEB 		bl	uart0_puts
  12:../tests/test_EEPROM.c **** 
  13:../tests/test_EEPROM.c **** 	/************************************/
  14:../tests/test_EEPROM.c **** 
  15:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 1887              		.loc 1 15 0
 1888 0018 0030A0E3 		mov	r3, #0
 1889 001c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 1890 0020 090000EA 		b	.L2
 1891              	.L3:
  16:../tests/test_EEPROM.c **** 		at24c04_byteread( i, &buffer[i] );
 1892              		.loc 1 16 0 discriminator 2
 1893 0024 BE305BE1 		ldrh	r3, [fp, #-14]
 1894 0028 862F4BE2 		sub	r2, fp, #536
 1895 002c 033082E0 		add	r3, r2, r3
 1896 0030 BE205BE1 		ldrh	r2, [fp, #-14]
 1897 0034 0200A0E1 		mov	r0, r2
 1898 0038 0310A0E1 		mov	r1, r3
 1899 003c FEFFFFEB 		bl	at24c04_byteread
  15:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 1900              		.loc 1 15 0 discriminator 2
 1901 0040 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 1902 0044 013083E2 		add	r3, r3, #1
 1903 0048 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 1904              	.L2:
  15:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 1905              		.loc 1 15 0 is_stmt 0 discriminator 1
 1906 004c BE205BE1 		ldrh	r2, [fp, #-14]
 1907 0050 7C349FE5 		ldr	r3, .L28+4
 1908 0054 030052E1 		cmp	r2, r3
 1909 0058 F1FFFF9A 		bls	.L3
  17:../tests/test_EEPROM.c **** 	uart0_puts( " - Lectura aleatoria (" );
 1910              		.loc 1 17 0 is_stmt 1
 1911 005c 74049FE5 		ldr	r0, .L28+8
 1912 0060 FEFFFFEB 		bl	uart0_puts
  18:../tests/test_EEPROM.c **** 	uart0_putint( AT24C04_DEPTH );
 1913              		.loc 1 18 0
 1914 0064 020CA0E3 		mov	r0, #512
 1915 0068 FEFFFFEB 		bl	uart0_putint
  19:../tests/test_EEPROM.c **** 	uart0_puts( " bytes)\n" );
 1916              		.loc 1 19 0
 1917 006c 68049FE5 		ldr	r0, .L28+12
 1918 0070 FEFFFFEB 		bl	uart0_puts
  20:../tests/test_EEPROM.c **** 
  21:../tests/test_EEPROM.c **** 	/************************************/
  22:../tests/test_EEPROM.c **** 	at24c04_load( buffer_aux );
 1919              		.loc 1 22 0
 1920 0074 013B4BE2 		sub	r3, fp, #1024
 1921 0078 0C3043E2 		sub	r3, r3, #12
 1922 007c 0C3043E2 		sub	r3, r3, #12
 1923 0080 0300A0E1 		mov	r0, r3
 1924 0084 FEFFFFEB 		bl	at24c04_load
  23:../tests/test_EEPROM.c **** 	uart0_puts( " - Lectura secuencial (" );
 1925              		.loc 1 23 0
 1926 0088 50049FE5 		ldr	r0, .L28+16
 1927 008c FEFFFFEB 		bl	uart0_puts
  24:../tests/test_EEPROM.c **** 	uart0_putint( AT24C04_DEPTH );
 1928              		.loc 1 24 0
 1929 0090 020CA0E3 		mov	r0, #512
 1930 0094 FEFFFFEB 		bl	uart0_putint
  25:../tests/test_EEPROM.c **** 	uart0_puts( " bytes)" );
 1931              		.loc 1 25 0
 1932 0098 44049FE5 		ldr	r0, .L28+20
 1933 009c FEFFFFEB 		bl	uart0_puts
  26:../tests/test_EEPROM.c **** 
  27:../tests/test_EEPROM.c **** 	/************************************/
  28:../tests/test_EEPROM.c **** 
  29:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 1934              		.loc 1 29 0
 1935 00a0 0030A0E3 		mov	r3, #0
 1936 00a4 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 1937 00a8 120000EA 		b	.L4
 1938              	.L6:
  30:../tests/test_EEPROM.c **** 		if( buffer[i] != buffer_aux[i] )
 1939              		.loc 1 30 0
 1940 00ac BE205BE1 		ldrh	r2, [fp, #-14]
 1941 00b0 30349FE5 		ldr	r3, .L28+24
 1942 00b4 0C004BE2 		sub	r0, fp, #12
 1943 00b8 022080E0 		add	r2, r0, r2
 1944 00bc 033082E0 		add	r3, r2, r3
 1945 00c0 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 1946 00c4 BE105BE1 		ldrh	r1, [fp, #-14]
 1947 00c8 1C349FE5 		ldr	r3, .L28+28
 1948 00cc 0C004BE2 		sub	r0, fp, #12
 1949 00d0 011080E0 		add	r1, r0, r1
 1950 00d4 033081E0 		add	r3, r1, r3
 1951 00d8 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1952 00dc 030052E1 		cmp	r2, r3
 1953 00e0 0100000A 		beq	.L5
  31:../tests/test_EEPROM.c **** 			uart0_puts( "ERROR: lectura aleatoria y secuencial no son coincidentes\n" );
 1954              		.loc 1 31 0
 1955 00e4 04049FE5 		ldr	r0, .L28+32
 1956 00e8 FEFFFFEB 		bl	uart0_puts
 1957              	.L5:
  29:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 1958              		.loc 1 29 0
 1959 00ec BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 1960 00f0 013083E2 		add	r3, r3, #1
 1961 00f4 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 1962              	.L4:
  29:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 1963              		.loc 1 29 0 is_stmt 0 discriminator 1
 1964 00f8 BE205BE1 		ldrh	r2, [fp, #-14]
 1965 00fc D0339FE5 		ldr	r3, .L28+4
 1966 0100 030052E1 		cmp	r2, r3
 1967 0104 E8FFFF9A 		bls	.L6
  32:../tests/test_EEPROM.c **** 
  33:../tests/test_EEPROM.c **** 	/************************************/
  34:../tests/test_EEPROM.c **** 
  35:../tests/test_EEPROM.c **** 	uart0_puts( "\nVolcado del contenido inicial de la memoria IIC-EEPROM AT24C04:\n" );
 1968              		.loc 1 35 0 is_stmt 1
 1969 0108 E4039FE5 		ldr	r0, .L28+36
 1970 010c FEFFFFEB 		bl	uart0_puts
  36:../tests/test_EEPROM.c **** 
  37:../tests/test_EEPROM.c **** 	for( i=0; i < (AT24C04_DEPTH>>4); i++ ){
 1971              		.loc 1 37 0
 1972 0110 0030A0E3 		mov	r3, #0
 1973 0114 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 1974 0118 660000EA 		b	.L7
 1975              	.L17:
  38:../tests/test_EEPROM.c **** 		uart0_puts( "\n" );
 1976              		.loc 1 38 0
 1977 011c D4039FE5 		ldr	r0, .L28+40
 1978 0120 FEFFFFEB 		bl	uart0_puts
  39:../tests/test_EEPROM.c **** 		if( i<<4 <= 0xf )
 1979              		.loc 1 39 0
 1980 0124 BE305BE1 		ldrh	r3, [fp, #-14]
 1981 0128 0332A0E1 		mov	r3, r3, asl #4
 1982 012c 0F0053E3 		cmp	r3, #15
 1983 0130 020000CA 		bgt	.L8
  40:../tests/test_EEPROM.c **** 			uart0_puts( "00" );
 1984              		.loc 1 40 0
 1985 0134 C0039FE5 		ldr	r0, .L28+44
 1986 0138 FEFFFFEB 		bl	uart0_puts
 1987 013c 050000EA 		b	.L9
 1988              	.L8:
  41:../tests/test_EEPROM.c **** 		else if( i<<4 <= 0xff )
 1989              		.loc 1 41 0
 1990 0140 BE305BE1 		ldrh	r3, [fp, #-14]
 1991 0144 0332A0E1 		mov	r3, r3, asl #4
 1992 0148 FF0053E3 		cmp	r3, #255
 1993 014c 010000CA 		bgt	.L9
  42:../tests/test_EEPROM.c **** 			uart0_putchar( '0' );
 1994              		.loc 1 42 0
 1995 0150 3000A0E3 		mov	r0, #48
 1996 0154 FEFFFFEB 		bl	uart0_putchar
 1997              	.L9:
  43:../tests/test_EEPROM.c **** 		uart0_puthex( i<<4 );
 1998              		.loc 1 43 0
 1999 0158 BE305BE1 		ldrh	r3, [fp, #-14]
 2000 015c 0332A0E1 		mov	r3, r3, asl #4
 2001 0160 0300A0E1 		mov	r0, r3
 2002 0164 FEFFFFEB 		bl	uart0_puthex
  44:../tests/test_EEPROM.c **** 		uart0_puts( "h:"  );
 2003              		.loc 1 44 0
 2004 0168 90039FE5 		ldr	r0, .L28+48
 2005 016c FEFFFFEB 		bl	uart0_puts
  45:../tests/test_EEPROM.c **** 		for( j=0; j<16; j++ )
 2006              		.loc 1 45 0
 2007 0170 0030A0E3 		mov	r3, #0
 2008 0174 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2009 0178 1A0000EA 		b	.L10
 2010              	.L12:
  46:../tests/test_EEPROM.c **** 		{
  47:../tests/test_EEPROM.c **** 			if( buffer[(i<<4)+j] <= 0xf )
 2011              		.loc 1 47 0
 2012 017c BE305BE1 		ldrh	r3, [fp, #-14]
 2013 0180 0322A0E1 		mov	r2, r3, asl #4
 2014 0184 B0315BE1 		ldrh	r3, [fp, #-16]
 2015 0188 032082E0 		add	r2, r2, r3
 2016 018c 54339FE5 		ldr	r3, .L28+24
 2017 0190 0C104BE2 		sub	r1, fp, #12
 2018 0194 022081E0 		add	r2, r1, r2
 2019 0198 033082E0 		add	r3, r2, r3
 2020 019c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2021 01a0 0F0053E3 		cmp	r3, #15
 2022 01a4 0100008A 		bhi	.L11
  48:../tests/test_EEPROM.c **** 				uart0_putchar( '0' );
 2023              		.loc 1 48 0
 2024 01a8 3000A0E3 		mov	r0, #48
 2025 01ac FEFFFFEB 		bl	uart0_putchar
 2026              	.L11:
  49:../tests/test_EEPROM.c **** 			uart0_puthex( buffer[(i<<4)+j] );
 2027              		.loc 1 49 0
 2028 01b0 BE305BE1 		ldrh	r3, [fp, #-14]
 2029 01b4 0322A0E1 		mov	r2, r3, asl #4
 2030 01b8 B0315BE1 		ldrh	r3, [fp, #-16]
 2031 01bc 032082E0 		add	r2, r2, r3
 2032 01c0 20339FE5 		ldr	r3, .L28+24
 2033 01c4 0C004BE2 		sub	r0, fp, #12
 2034 01c8 022080E0 		add	r2, r0, r2
 2035 01cc 033082E0 		add	r3, r2, r3
 2036 01d0 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2037 01d4 0300A0E1 		mov	r0, r3
 2038 01d8 FEFFFFEB 		bl	uart0_puthex
  45:../tests/test_EEPROM.c **** 		for( j=0; j<16; j++ )
 2039              		.loc 1 45 0
 2040 01dc B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 2041 01e0 013083E2 		add	r3, r3, #1
 2042 01e4 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2043              	.L10:
  45:../tests/test_EEPROM.c **** 		for( j=0; j<16; j++ )
 2044              		.loc 1 45 0 is_stmt 0 discriminator 1
 2045 01e8 B0315BE1 		ldrh	r3, [fp, #-16]
 2046 01ec 0F0053E3 		cmp	r3, #15
 2047 01f0 E1FFFF9A 		bls	.L12
  50:../tests/test_EEPROM.c **** 		}
  51:../tests/test_EEPROM.c **** 		uart0_puts( " ; " );
 2048              		.loc 1 51 0 is_stmt 1
 2049 01f4 08039FE5 		ldr	r0, .L28+52
 2050 01f8 FEFFFFEB 		bl	uart0_puts
  52:../tests/test_EEPROM.c **** 		for( j=0; j<16; j++ )
 2051              		.loc 1 52 0
 2052 01fc 0030A0E3 		mov	r3, #0
 2053 0200 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2054 0204 250000EA 		b	.L13
 2055              	.L16:
  53:../tests/test_EEPROM.c **** 			  uart0_putchar( ( (31<buffer[(i<<4)+j]) && (buffer[(i<<4)+j]<127) ? buffer[(i<<4)+j] : '.' ) );
 2056              		.loc 1 53 0
 2057 0208 BE305BE1 		ldrh	r3, [fp, #-14]
 2058 020c 0322A0E1 		mov	r2, r3, asl #4
 2059 0210 B0315BE1 		ldrh	r3, [fp, #-16]
 2060 0214 032082E0 		add	r2, r2, r3
 2061 0218 C8329FE5 		ldr	r3, .L28+24
 2062 021c 0C104BE2 		sub	r1, fp, #12
 2063 0220 022081E0 		add	r2, r1, r2
 2064 0224 033082E0 		add	r3, r2, r3
 2065 0228 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2066 022c 1F0053E3 		cmp	r3, #31
 2067 0230 1400009A 		bls	.L14
 2068              		.loc 1 53 0 is_stmt 0 discriminator 1
 2069 0234 BE305BE1 		ldrh	r3, [fp, #-14]
 2070 0238 0322A0E1 		mov	r2, r3, asl #4
 2071 023c B0315BE1 		ldrh	r3, [fp, #-16]
 2072 0240 032082E0 		add	r2, r2, r3
 2073 0244 9C329FE5 		ldr	r3, .L28+24
 2074 0248 0C004BE2 		sub	r0, fp, #12
 2075 024c 022080E0 		add	r2, r0, r2
 2076 0250 033082E0 		add	r3, r2, r3
 2077 0254 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2078 0258 7E0053E3 		cmp	r3, #126
 2079 025c 0900008A 		bhi	.L14
 2080 0260 BE305BE1 		ldrh	r3, [fp, #-14]
 2081 0264 0322A0E1 		mov	r2, r3, asl #4
 2082 0268 B0315BE1 		ldrh	r3, [fp, #-16]
 2083 026c 032082E0 		add	r2, r2, r3
 2084 0270 70329FE5 		ldr	r3, .L28+24
 2085 0274 0C104BE2 		sub	r1, fp, #12
 2086 0278 022081E0 		add	r2, r1, r2
 2087 027c 033082E0 		add	r3, r2, r3
 2088 0280 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2089 0284 000000EA 		b	.L15
 2090              	.L14:
 2091              		.loc 1 53 0 discriminator 2
 2092 0288 2E30A0E3 		mov	r3, #46
 2093              	.L15:
 2094              		.loc 1 53 0 discriminator 3
 2095 028c 0300A0E1 		mov	r0, r3
 2096 0290 FEFFFFEB 		bl	uart0_putchar
  52:../tests/test_EEPROM.c **** 		for( j=0; j<16; j++ )
 2097              		.loc 1 52 0 is_stmt 1 discriminator 3
 2098 0294 B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 2099 0298 013083E2 		add	r3, r3, #1
 2100 029c B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 2101              	.L13:
  52:../tests/test_EEPROM.c **** 		for( j=0; j<16; j++ )
 2102              		.loc 1 52 0 is_stmt 0 discriminator 1
 2103 02a0 B0315BE1 		ldrh	r3, [fp, #-16]
 2104 02a4 0F0053E3 		cmp	r3, #15
 2105 02a8 D6FFFF9A 		bls	.L16
  37:../tests/test_EEPROM.c **** 	for( i=0; i < (AT24C04_DEPTH>>4); i++ ){
 2106              		.loc 1 37 0 is_stmt 1
 2107 02ac BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2108 02b0 013083E2 		add	r3, r3, #1
 2109 02b4 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2110              	.L7:
  37:../tests/test_EEPROM.c **** 	for( i=0; i < (AT24C04_DEPTH>>4); i++ ){
 2111              		.loc 1 37 0 is_stmt 0 discriminator 1
 2112 02b8 BE305BE1 		ldrh	r3, [fp, #-14]
 2113 02bc 1F0053E3 		cmp	r3, #31
 2114 02c0 95FFFF9A 		bls	.L17
  54:../tests/test_EEPROM.c **** 	};
  55:../tests/test_EEPROM.c **** 
  56:../tests/test_EEPROM.c **** 	/************************************/
  57:../tests/test_EEPROM.c **** 
  58:../tests/test_EEPROM.c **** 	uart0_puts( "\n\nModificacion del contenido de la memoria IIC-EEPROM AT24C04:\n" );
 2115              		.loc 1 58 0 is_stmt 1
 2116 02c4 3C029FE5 		ldr	r0, .L28+56
 2117 02c8 FEFFFFEB 		bl	uart0_puts
  59:../tests/test_EEPROM.c **** 
  60:../tests/test_EEPROM.c **** 	for( i=0; i<5; i++ )
 2118              		.loc 1 60 0
 2119 02cc 0030A0E3 		mov	r3, #0
 2120 02d0 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2121 02d4 120000EA 		b	.L18
 2122              	.L19:
  61:../tests/test_EEPROM.c **** 	{
  62:../tests/test_EEPROM.c **** 		uart0_puts( "  - Introduzca una direccion (0h-1ffh): " );
 2123              		.loc 1 62 0 discriminator 2
 2124 02d8 2C029FE5 		ldr	r0, .L28+60
 2125 02dc FEFFFFEB 		bl	uart0_puts
  63:../tests/test_EEPROM.c **** 		addr = uart0_gethex( );
 2126              		.loc 1 63 0 discriminator 2
 2127 02e0 FEFFFFEB 		bl	uart0_gethex
 2128 02e4 14000BE5 		str	r0, [fp, #-20]
  64:../tests/test_EEPROM.c **** 		uart0_puts( "  - Introduzca el dato (0h-ffh): " );
 2129              		.loc 1 64 0 discriminator 2
 2130 02e8 20029FE5 		ldr	r0, .L28+64
 2131 02ec FEFFFFEB 		bl	uart0_puts
  65:../tests/test_EEPROM.c **** 		data = uart0_gethex( );
 2132              		.loc 1 65 0 discriminator 2
 2133 02f0 FEFFFFEB 		bl	uart0_gethex
 2134 02f4 18000BE5 		str	r0, [fp, #-24]
  66:../tests/test_EEPROM.c **** 		buffer[addr] = data;
 2135              		.loc 1 66 0 discriminator 2
 2136 02f8 18301BE5 		ldr	r3, [fp, #-24]
 2137 02fc FF2003E2 		and	r2, r3, #255
 2138 0300 E0319FE5 		ldr	r3, .L28+24
 2139 0304 14101BE5 		ldr	r1, [fp, #-20]
 2140 0308 0C004BE2 		sub	r0, fp, #12
 2141 030c 011080E0 		add	r1, r0, r1
 2142 0310 033081E0 		add	r3, r1, r3
 2143 0314 0020C3E5 		strb	r2, [r3, #0]
  60:../tests/test_EEPROM.c **** 	for( i=0; i<5; i++ )
 2144              		.loc 1 60 0 discriminator 2
 2145 0318 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2146 031c 013083E2 		add	r3, r3, #1
 2147 0320 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2148              	.L18:
  60:../tests/test_EEPROM.c **** 	for( i=0; i<5; i++ )
 2149              		.loc 1 60 0 is_stmt 0 discriminator 1
 2150 0324 BE305BE1 		ldrh	r3, [fp, #-14]
 2151 0328 040053E3 		cmp	r3, #4
 2152 032c E9FFFF9A 		bls	.L19
  67:../tests/test_EEPROM.c **** 	}
  68:../tests/test_EEPROM.c **** 
  69:../tests/test_EEPROM.c **** 	/************************************/
  70:../tests/test_EEPROM.c **** 
  71:../tests/test_EEPROM.c **** 	uart0_puts( "\nVolcando en la IIC-EEPROM AT24C04 el contenido de la RAM:\n" );
 2153              		.loc 1 71 0 is_stmt 1
 2154 0330 DC019FE5 		ldr	r0, .L28+68
 2155 0334 FEFFFFEB 		bl	uart0_puts
  72:../tests/test_EEPROM.c **** 
  73:../tests/test_EEPROM.c **** 	/************************************/
  74:../tests/test_EEPROM.c **** 
  75:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2156              		.loc 1 75 0
 2157 0338 0030A0E3 		mov	r3, #0
 2158 033c BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2159 0340 0C0000EA 		b	.L20
 2160              	.L21:
  76:../tests/test_EEPROM.c **** 		at24c04_bytewrite( i, buffer[i] );
 2161              		.loc 1 76 0 discriminator 2
 2162 0344 BE205BE1 		ldrh	r2, [fp, #-14]
 2163 0348 98319FE5 		ldr	r3, .L28+24
 2164 034c 0C104BE2 		sub	r1, fp, #12
 2165 0350 022081E0 		add	r2, r1, r2
 2166 0354 033082E0 		add	r3, r2, r3
 2167 0358 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2168 035c BE205BE1 		ldrh	r2, [fp, #-14]
 2169 0360 0200A0E1 		mov	r0, r2
 2170 0364 0310A0E1 		mov	r1, r3
 2171 0368 FEFFFFEB 		bl	at24c04_bytewrite
  75:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2172              		.loc 1 75 0 discriminator 2
 2173 036c BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2174 0370 013083E2 		add	r3, r3, #1
 2175 0374 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2176              	.L20:
  75:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2177              		.loc 1 75 0 is_stmt 0 discriminator 1
 2178 0378 BE205BE1 		ldrh	r2, [fp, #-14]
 2179 037c 50319FE5 		ldr	r3, .L28+4
 2180 0380 030052E1 		cmp	r2, r3
 2181 0384 EEFFFF9A 		bls	.L21
  77:../tests/test_EEPROM.c **** 	uart0_puts( " - Escritura aleatoria (" );
 2182              		.loc 1 77 0 is_stmt 1
 2183 0388 88019FE5 		ldr	r0, .L28+72
 2184 038c FEFFFFEB 		bl	uart0_puts
  78:../tests/test_EEPROM.c **** 	uart0_putint( AT24C04_DEPTH );
 2185              		.loc 1 78 0
 2186 0390 020CA0E3 		mov	r0, #512
 2187 0394 FEFFFFEB 		bl	uart0_putint
  79:../tests/test_EEPROM.c **** 	uart0_puts( " bytes)\n" );
 2188              		.loc 1 79 0
 2189 0398 3C019FE5 		ldr	r0, .L28+12
 2190 039c FEFFFFEB 		bl	uart0_puts
  80:../tests/test_EEPROM.c **** 
  81:../tests/test_EEPROM.c **** 	at24c04_load( buffer_aux );
 2191              		.loc 1 81 0
 2192 03a0 013B4BE2 		sub	r3, fp, #1024
 2193 03a4 0C3043E2 		sub	r3, r3, #12
 2194 03a8 0C3043E2 		sub	r3, r3, #12
 2195 03ac 0300A0E1 		mov	r0, r3
 2196 03b0 FEFFFFEB 		bl	at24c04_load
  82:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2197              		.loc 1 82 0
 2198 03b4 0030A0E3 		mov	r3, #0
 2199 03b8 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2200 03bc 120000EA 		b	.L22
 2201              	.L24:
  83:../tests/test_EEPROM.c **** 		if( buffer[i] != buffer_aux[i] )
 2202              		.loc 1 83 0
 2203 03c0 BE205BE1 		ldrh	r2, [fp, #-14]
 2204 03c4 1C319FE5 		ldr	r3, .L28+24
 2205 03c8 0C004BE2 		sub	r0, fp, #12
 2206 03cc 022080E0 		add	r2, r0, r2
 2207 03d0 033082E0 		add	r3, r2, r3
 2208 03d4 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2209 03d8 BE105BE1 		ldrh	r1, [fp, #-14]
 2210 03dc 08319FE5 		ldr	r3, .L28+28
 2211 03e0 0C004BE2 		sub	r0, fp, #12
 2212 03e4 011080E0 		add	r1, r0, r1
 2213 03e8 033081E0 		add	r3, r1, r3
 2214 03ec 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2215 03f0 030052E1 		cmp	r2, r3
 2216 03f4 0100000A 		beq	.L23
  84:../tests/test_EEPROM.c **** 			uart0_puts( "ERROR: La escritura aleatoria falla.\n" );
 2217              		.loc 1 84 0
 2218 03f8 1C019FE5 		ldr	r0, .L28+76
 2219 03fc FEFFFFEB 		bl	uart0_puts
 2220              	.L23:
  82:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2221              		.loc 1 82 0
 2222 0400 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2223 0404 013083E2 		add	r3, r3, #1
 2224 0408 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2225              	.L22:
  82:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2226              		.loc 1 82 0 is_stmt 0 discriminator 1
 2227 040c BE205BE1 		ldrh	r2, [fp, #-14]
 2228 0410 BC309FE5 		ldr	r3, .L28+4
 2229 0414 030052E1 		cmp	r2, r3
 2230 0418 E8FFFF9A 		bls	.L24
  85:../tests/test_EEPROM.c **** 
  86:../tests/test_EEPROM.c **** 	/************************************/
  87:../tests/test_EEPROM.c **** 
  88:../tests/test_EEPROM.c **** 	at24c04_store( buffer );
 2231              		.loc 1 88 0 is_stmt 1
 2232 041c 863F4BE2 		sub	r3, fp, #536
 2233 0420 0300A0E1 		mov	r0, r3
 2234 0424 FEFFFFEB 		bl	at24c04_store
  89:../tests/test_EEPROM.c **** 	uart0_puts( " - Escritura secuencial (" );
 2235              		.loc 1 89 0
 2236 0428 F0009FE5 		ldr	r0, .L28+80
 2237 042c FEFFFFEB 		bl	uart0_puts
  90:../tests/test_EEPROM.c **** 	uart0_putint( AT24C04_DEPTH );
 2238              		.loc 1 90 0
 2239 0430 020CA0E3 		mov	r0, #512
 2240 0434 FEFFFFEB 		bl	uart0_putint
  91:../tests/test_EEPROM.c **** 	uart0_puts( " bytes)\n" );
 2241              		.loc 1 91 0
 2242 0438 9C009FE5 		ldr	r0, .L28+12
 2243 043c FEFFFFEB 		bl	uart0_puts
  92:../tests/test_EEPROM.c **** 
  93:../tests/test_EEPROM.c **** 	at24c04_load( buffer_aux );
 2244              		.loc 1 93 0
 2245 0440 013B4BE2 		sub	r3, fp, #1024
 2246 0444 0C3043E2 		sub	r3, r3, #12
 2247 0448 0C3043E2 		sub	r3, r3, #12
 2248 044c 0300A0E1 		mov	r0, r3
 2249 0450 FEFFFFEB 		bl	at24c04_load
  94:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2250              		.loc 1 94 0
 2251 0454 0030A0E3 		mov	r3, #0
 2252 0458 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2253 045c 120000EA 		b	.L25
 2254              	.L27:
  95:../tests/test_EEPROM.c **** 		if( buffer[i] != buffer_aux[i] )
 2255              		.loc 1 95 0
 2256 0460 BE205BE1 		ldrh	r2, [fp, #-14]
 2257 0464 7C309FE5 		ldr	r3, .L28+24
 2258 0468 0C104BE2 		sub	r1, fp, #12
 2259 046c 022081E0 		add	r2, r1, r2
 2260 0470 033082E0 		add	r3, r2, r3
 2261 0474 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2262 0478 BE105BE1 		ldrh	r1, [fp, #-14]
 2263 047c 68309FE5 		ldr	r3, .L28+28
 2264 0480 0C004BE2 		sub	r0, fp, #12
 2265 0484 011080E0 		add	r1, r0, r1
 2266 0488 033081E0 		add	r3, r1, r3
 2267 048c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2268 0490 030052E1 		cmp	r2, r3
 2269 0494 0100000A 		beq	.L26
  96:../tests/test_EEPROM.c **** 			uart0_puts( "ERROR: La escritura secuencial falla.\n" );
 2270              		.loc 1 96 0
 2271 0498 84009FE5 		ldr	r0, .L28+84
 2272 049c FEFFFFEB 		bl	uart0_puts
 2273              	.L26:
  94:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2274              		.loc 1 94 0
 2275 04a0 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 2276 04a4 013083E2 		add	r3, r3, #1
 2277 04a8 BE304BE1 		strh	r3, [fp, #-14]	@ movhi
 2278              	.L25:
  94:../tests/test_EEPROM.c **** 	for( i=0; i<AT24C04_DEPTH; i++ )
 2279              		.loc 1 94 0 is_stmt 0 discriminator 1
 2280 04ac BE205BE1 		ldrh	r2, [fp, #-14]
 2281 04b0 1C309FE5 		ldr	r3, .L28+4
 2282 04b4 030052E1 		cmp	r2, r3
 2283 04b8 E8FFFF9A 		bls	.L27
  97:../tests/test_EEPROM.c **** 
  98:../tests/test_EEPROM.c **** 	/************************************/
  99:../tests/test_EEPROM.c **** 
 100:../tests/test_EEPROM.c **** 	uart0_puts( "\nApague la placa y vuelva a cargar y ejecutar el programa.\n" );
 2284              		.loc 1 100 0 is_stmt 1
 2285 04bc 64009FE5 		ldr	r0, .L28+88
 2286 04c0 FEFFFFEB 		bl	uart0_puts
 101:../tests/test_EEPROM.c **** }
 2287              		.loc 1 101 0
 2288 04c4 0CD04BE2 		sub	sp, fp, #12
 2289 04c8 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2290 04cc 1EFF2FE1 		bx	lr
 2291              	.L29:
 2292              		.align	2
 2293              	.L28:
 2294 04d0 00000000 		.word	.LC0
 2295 04d4 FF010000 		.word	511
 2296 04d8 38000000 		.word	.LC1
 2297 04dc 50000000 		.word	.LC2
 2298 04e0 5C000000 		.word	.LC3
 2299 04e4 74000000 		.word	.LC4
 2300 04e8 F4FDFFFF 		.word	-524
 2301 04ec F4FBFFFF 		.word	-1036
 2302 04f0 7C000000 		.word	.LC5
 2303 04f4 B8000000 		.word	.LC6
 2304 04f8 FC000000 		.word	.LC7
 2305 04fc 00010000 		.word	.LC8
 2306 0500 04010000 		.word	.LC9
 2307 0504 08010000 		.word	.LC10
 2308 0508 0C010000 		.word	.LC11
 2309 050c 4C010000 		.word	.LC12
 2310 0510 78010000 		.word	.LC13
 2311 0514 9C010000 		.word	.LC14
 2312 0518 D8010000 		.word	.LC15
 2313 051c F4010000 		.word	.LC16
 2314 0520 1C020000 		.word	.LC17
 2315 0524 38020000 		.word	.LC18
 2316 0528 60020000 		.word	.LC19
 2317              		.cfi_endproc
 2318              	.LFE0:
 2320              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 test_EEPROM.c
C:\Users\Pedro\AppData\Local\Temp\ccMRnvVS.s:1796   .rodata:00000000 $d
C:\Users\Pedro\AppData\Local\Temp\ccMRnvVS.s:1863   .text:00000000 $a
C:\Users\Pedro\AppData\Local\Temp\ccMRnvVS.s:1866   .text:00000000 test_EEPROM
C:\Users\Pedro\AppData\Local\Temp\ccMRnvVS.s:2294   .text:000004d0 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
uart0_puts
at24c04_byteread
uart0_putint
at24c04_load
uart0_putchar
uart0_puthex
uart0_gethex
at24c04_bytewrite
at24c04_store
