   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 18, 4
  11              		.file	"gpio.c"
  21              	.Ltext0:
  22              		.file 1 "../gpio.c"
 1701              		.align	2
 1702              		.global	portB_conf
 1704              	portB_conf:
 1705              	.LFB0:
   1:../gpio.c     **** #include "44b.h"
   2:../gpio.c     **** #include "gpio.h"
   3:../gpio.c     **** 
   4:../gpio.c     **** /* Port B interface implementation */
   5:../gpio.c     **** 
   6:../gpio.c     **** int portB_conf(int pin, enum port_mode mode)
   7:../gpio.c     **** {
 1706              		.loc 1 7 0
 1707              		.cfi_startproc
 1708              		@ Function supports interworking.
 1709              		@ args = 0, pretend = 0, frame = 16
 1710              		@ frame_needed = 1, uses_anonymous_args = 0
 1711 0000 0DC0A0E1 		mov	ip, sp
 1712              	.LCFI0:
 1713              		.cfi_def_cfa_register 12
 1714 0004 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 1715 0008 04B04CE2 		sub	fp, ip, #4
 1716              		.cfi_offset 14, -8
 1717              		.cfi_offset 13, -12
 1718              		.cfi_offset 11, -16
 1719              	.LCFI1:
 1720              		.cfi_def_cfa 11, 4
 1721 000c 10D04DE2 		sub	sp, sp, #16
 1722 0010 18000BE5 		str	r0, [fp, #-24]
 1723 0014 0130A0E1 		mov	r3, r1
 1724 0018 19304BE5 		strb	r3, [fp, #-25]
   8:../gpio.c     **** 	int ret = 0;
 1725              		.loc 1 8 0
 1726 001c 0030A0E3 		mov	r3, #0
 1727 0020 10300BE5 		str	r3, [fp, #-16]
   9:../gpio.c     **** 	if (pin < 0 || pin > 10)
 1728              		.loc 1 9 0
 1729 0024 18301BE5 		ldr	r3, [fp, #-24]
 1730 0028 000053E3 		cmp	r3, #0
 1731 002c 020000BA 		blt	.L2
 1732              		.loc 1 9 0 is_stmt 0 discriminator 1
 1733 0030 18301BE5 		ldr	r3, [fp, #-24]
 1734 0034 0A0053E3 		cmp	r3, #10
 1735 0038 010000DA 		ble	.L3
 1736              	.L2:
  10:../gpio.c     **** 		return -1; // indica error
 1737              		.loc 1 10 0 is_stmt 1
 1738 003c 0030E0E3 		mvn	r3, #0
 1739 0040 1B0000EA 		b	.L4
 1740              	.L3:
  11:../gpio.c     **** 
  12:../gpio.c     **** 	if (mode == SIGOUT)
 1741              		.loc 1 12 0
 1742 0044 19305BE5 		ldrb	r3, [fp, #-25]	@ zero_extendqisi2
 1743 0048 020053E3 		cmp	r3, #2
 1744 004c 0800001A 		bne	.L5
  13:../gpio.c     **** 		// COMPLETAR: poner en rPCONB el bit indicado por pin a 1 para que por
  14:../gpio.c     **** 		// dicho pin en el puerto B salga la señal correspondiente del
  15:../gpio.c     **** 		// controlador de memoria
  16:../gpio.c     **** 		rPCONB |= 1 << pin;
 1745              		.loc 1 16 0
 1746 0050 6C309FE5 		ldr	r3, .L8
 1747 0054 68209FE5 		ldr	r2, .L8
 1748 0058 001092E5 		ldr	r1, [r2, #0]
 1749 005c 0100A0E3 		mov	r0, #1
 1750 0060 18201BE5 		ldr	r2, [fp, #-24]
 1751 0064 1022A0E1 		mov	r2, r0, asl r2
 1752 0068 022081E1 		orr	r2, r1, r2
 1753 006c 002083E5 		str	r2, [r3, #0]
 1754 0070 0E0000EA 		b	.L6
 1755              	.L5:
  17:../gpio.c     **** 	else if (mode == OUTPUT)
 1756              		.loc 1 17 0
 1757 0074 19305BE5 		ldrb	r3, [fp, #-25]	@ zero_extendqisi2
 1758 0078 010053E3 		cmp	r3, #1
 1759 007c 0900001A 		bne	.L7
  18:../gpio.c     **** 		// COMPLETAR: poner en rPCONB el bit indicado por pin a 0 para que dicho
  19:../gpio.c     **** 		// pin sea un pin de salida
  20:../gpio.c     **** 		rPCONB &= ~(1 << pin);
 1760              		.loc 1 20 0
 1761 0080 3C309FE5 		ldr	r3, .L8
 1762 0084 38209FE5 		ldr	r2, .L8
 1763 0088 001092E5 		ldr	r1, [r2, #0]
 1764 008c 0100A0E3 		mov	r0, #1
 1765 0090 18201BE5 		ldr	r2, [fp, #-24]
 1766 0094 1022A0E1 		mov	r2, r0, asl r2
 1767 0098 0220E0E1 		mvn	r2, r2
 1768 009c 022001E0 		and	r2, r1, r2
 1769 00a0 002083E5 		str	r2, [r3, #0]
 1770 00a4 010000EA 		b	.L6
 1771              	.L7:
  21:../gpio.c     **** 	else
  22:../gpio.c     **** 		ret = -1; // indica error
 1772              		.loc 1 22 0
 1773 00a8 0030E0E3 		mvn	r3, #0
 1774 00ac 10300BE5 		str	r3, [fp, #-16]
 1775              	.L6:
  23:../gpio.c     **** 
  24:../gpio.c     **** 	return ret;
 1776              		.loc 1 24 0
 1777 00b0 10301BE5 		ldr	r3, [fp, #-16]
 1778              	.L4:
  25:../gpio.c     **** }
 1779              		.loc 1 25 0
 1780 00b4 0300A0E1 		mov	r0, r3
 1781 00b8 0CD04BE2 		sub	sp, fp, #12
 1782 00bc 00689DE8 		ldmfd	sp, {fp, sp, lr}
 1783 00c0 1EFF2FE1 		bx	lr
 1784              	.L9:
 1785              		.align	2
 1786              	.L8:
 1787 00c4 0800D201 		.word	30539784
 1788              		.cfi_endproc
 1789              	.LFE0:
 1791              		.align	2
 1792              		.global	portB_write
 1794              	portB_write:
 1795              	.LFB1:
  26:../gpio.c     **** 
  27:../gpio.c     **** int portB_write(int pin, enum digital val)
  28:../gpio.c     **** {
 1796              		.loc 1 28 0
 1797              		.cfi_startproc
 1798              		@ Function supports interworking.
 1799              		@ args = 0, pretend = 0, frame = 8
 1800              		@ frame_needed = 1, uses_anonymous_args = 0
 1801 00c8 0DC0A0E1 		mov	ip, sp
 1802              	.LCFI2:
 1803              		.cfi_def_cfa_register 12
 1804 00cc 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 1805 00d0 04B04CE2 		sub	fp, ip, #4
 1806              		.cfi_offset 14, -8
 1807              		.cfi_offset 13, -12
 1808              		.cfi_offset 11, -16
 1809              	.LCFI3:
 1810              		.cfi_def_cfa 11, 4
 1811 00d4 08D04DE2 		sub	sp, sp, #8
 1812 00d8 10000BE5 		str	r0, [fp, #-16]
 1813 00dc 0130A0E1 		mov	r3, r1
 1814 00e0 11304BE5 		strb	r3, [fp, #-17]
  29:../gpio.c     **** 	if (pin < 0 || pin > 10)
 1815              		.loc 1 29 0
 1816 00e4 10301BE5 		ldr	r3, [fp, #-16]
 1817 00e8 000053E3 		cmp	r3, #0
 1818 00ec 020000BA 		blt	.L11
 1819              		.loc 1 29 0 is_stmt 0 discriminator 1
 1820 00f0 10301BE5 		ldr	r3, [fp, #-16]
 1821 00f4 0A0053E3 		cmp	r3, #10
 1822 00f8 010000DA 		ble	.L12
 1823              	.L11:
  30:../gpio.c     **** 		return -1; // indica error
 1824              		.loc 1 30 0 is_stmt 1
 1825 00fc 0030E0E3 		mvn	r3, #0
 1826 0100 1A0000EA 		b	.L13
 1827              	.L12:
  31:../gpio.c     **** 
  32:../gpio.c     **** 	if (val < 0 || val > 1)
 1828              		.loc 1 32 0
 1829 0104 11305BE5 		ldrb	r3, [fp, #-17]	@ zero_extendqisi2
 1830 0108 010053E3 		cmp	r3, #1
 1831 010c 0100009A 		bls	.L14
  33:../gpio.c     **** 		return -1; // indica error
 1832              		.loc 1 33 0
 1833 0110 0030E0E3 		mvn	r3, #0
 1834 0114 150000EA 		b	.L13
 1835              	.L14:
  34:../gpio.c     **** 
  35:../gpio.c     **** 	if (val)
 1836              		.loc 1 35 0
 1837 0118 11305BE5 		ldrb	r3, [fp, #-17]	@ zero_extendqisi2
 1838 011c 000053E3 		cmp	r3, #0
 1839 0120 0800000A 		beq	.L15
  36:../gpio.c     **** 		// COMPLETAR: poner en rPDATB el bit indicado por pin a 1
  37:../gpio.c     **** 		rPDATB |= 1 << pin;
 1840              		.loc 1 37 0
 1841 0124 54309FE5 		ldr	r3, .L17
 1842 0128 50209FE5 		ldr	r2, .L17
 1843 012c 001092E5 		ldr	r1, [r2, #0]
 1844 0130 0100A0E3 		mov	r0, #1
 1845 0134 10201BE5 		ldr	r2, [fp, #-16]
 1846 0138 1022A0E1 		mov	r2, r0, asl r2
 1847 013c 022081E1 		orr	r2, r1, r2
 1848 0140 002083E5 		str	r2, [r3, #0]
 1849 0144 080000EA 		b	.L16
 1850              	.L15:
  38:../gpio.c     **** 	else
  39:../gpio.c     **** 		// COMPLETAR: poner en rPDATB el bit indicado por pin a 0
  40:../gpio.c     **** 		rPDATB &= ~(1 << pin);
 1851              		.loc 1 40 0
 1852 0148 30309FE5 		ldr	r3, .L17
 1853 014c 2C209FE5 		ldr	r2, .L17
 1854 0150 001092E5 		ldr	r1, [r2, #0]
 1855 0154 0100A0E3 		mov	r0, #1
 1856 0158 10201BE5 		ldr	r2, [fp, #-16]
 1857 015c 1022A0E1 		mov	r2, r0, asl r2
 1858 0160 0220E0E1 		mvn	r2, r2
 1859 0164 022001E0 		and	r2, r1, r2
 1860 0168 002083E5 		str	r2, [r3, #0]
 1861              	.L16:
  41:../gpio.c     **** 
  42:../gpio.c     **** 	return 0;
 1862              		.loc 1 42 0
 1863 016c 0030A0E3 		mov	r3, #0
 1864              	.L13:
  43:../gpio.c     **** }
 1865              		.loc 1 43 0
 1866 0170 0300A0E1 		mov	r0, r3
 1867 0174 0CD04BE2 		sub	sp, fp, #12
 1868 0178 00689DE8 		ldmfd	sp, {fp, sp, lr}
 1869 017c 1EFF2FE1 		bx	lr
 1870              	.L18:
 1871              		.align	2
 1872              	.L17:
 1873 0180 0C00D201 		.word	30539788
 1874              		.cfi_endproc
 1875              	.LFE1:
 1877              		.align	2
 1878              		.global	portG_conf
 1880              	portG_conf:
 1881              	.LFB2:
  44:../gpio.c     **** 
  45:../gpio.c     **** /* Port G interface implementation */
  46:../gpio.c     **** 
  47:../gpio.c     **** int portG_conf(int pin, enum port_mode mode)
  48:../gpio.c     **** {
 1882              		.loc 1 48 0
 1883              		.cfi_startproc
 1884              		@ Function supports interworking.
 1885              		@ args = 0, pretend = 0, frame = 16
 1886              		@ frame_needed = 1, uses_anonymous_args = 0
 1887 0184 0DC0A0E1 		mov	ip, sp
 1888              	.LCFI4:
 1889              		.cfi_def_cfa_register 12
 1890 0188 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 1891 018c 04B04CE2 		sub	fp, ip, #4
 1892              		.cfi_offset 14, -8
 1893              		.cfi_offset 13, -12
 1894              		.cfi_offset 11, -16
 1895              	.LCFI5:
 1896              		.cfi_def_cfa 11, 4
 1897 0190 10D04DE2 		sub	sp, sp, #16
 1898 0194 18000BE5 		str	r0, [fp, #-24]
 1899 0198 0130A0E1 		mov	r3, r1
 1900 019c 19304BE5 		strb	r3, [fp, #-25]
  49:../gpio.c     **** 	int pos  = pin*2;
 1901              		.loc 1 49 0
 1902 01a0 18301BE5 		ldr	r3, [fp, #-24]
 1903 01a4 8330A0E1 		mov	r3, r3, asl #1
 1904 01a8 10300BE5 		str	r3, [fp, #-16]
  50:../gpio.c     **** 
  51:../gpio.c     **** 	if (pin < 0 || pin > 7)
 1905              		.loc 1 51 0
 1906 01ac 18301BE5 		ldr	r3, [fp, #-24]
 1907 01b0 000053E3 		cmp	r3, #0
 1908 01b4 020000BA 		blt	.L20
 1909              		.loc 1 51 0 is_stmt 0 discriminator 1
 1910 01b8 18301BE5 		ldr	r3, [fp, #-24]
 1911 01bc 070053E3 		cmp	r3, #7
 1912 01c0 010000DA 		ble	.L21
 1913              	.L20:
  52:../gpio.c     **** 		return -1; // indica error
 1914              		.loc 1 52 0 is_stmt 1
 1915 01c4 0030E0E3 		mvn	r3, #0
 1916 01c8 560000EA 		b	.L22
 1917              	.L21:
  53:../gpio.c     **** 
  54:../gpio.c     **** 	switch (mode) {
 1918              		.loc 1 54 0
 1919 01cc 19305BE5 		ldrb	r3, [fp, #-25]	@ zero_extendqisi2
 1920 01d0 030053E3 		cmp	r3, #3
 1921 01d4 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 1922 01d8 4F0000EA 		b	.L23
 1923              	.L28:
 1924 01dc EC010000 		.word	.L24
 1925 01e0 3C020000 		.word	.L25
 1926 01e4 88020000 		.word	.L26
 1927 01e8 D4020000 		.word	.L27
 1928              	.L24:
  55:../gpio.c     **** 		case INPUT:
  56:../gpio.c     **** 			// COMPLETAR: poner en rPCONG 00 a partir de la posición pos para
  57:../gpio.c     **** 			// configurar como pin de entrada el pin indicado por el parámetro pin
  58:../gpio.c     **** 			rPCONG &= ~(1 << pos);  	 // 0
 1929              		.loc 1 58 0
 1930 01ec 44319FE5 		ldr	r3, .L30
 1931 01f0 40219FE5 		ldr	r2, .L30
 1932 01f4 001092E5 		ldr	r1, [r2, #0]
 1933 01f8 0100A0E3 		mov	r0, #1
 1934 01fc 10201BE5 		ldr	r2, [fp, #-16]
 1935 0200 1022A0E1 		mov	r2, r0, asl r2
 1936 0204 0220E0E1 		mvn	r2, r2
 1937 0208 022001E0 		and	r2, r1, r2
 1938 020c 002083E5 		str	r2, [r3, #0]
  59:../gpio.c     **** 			rPCONG &= ~(1 << (pos + 1)); // 0
 1939              		.loc 1 59 0
 1940 0210 20319FE5 		ldr	r3, .L30
 1941 0214 1C219FE5 		ldr	r2, .L30
 1942 0218 001092E5 		ldr	r1, [r2, #0]
 1943 021c 10201BE5 		ldr	r2, [fp, #-16]
 1944 0220 012082E2 		add	r2, r2, #1
 1945 0224 0100A0E3 		mov	r0, #1
 1946 0228 1022A0E1 		mov	r2, r0, asl r2
 1947 022c 0220E0E1 		mvn	r2, r2
 1948 0230 022001E0 		and	r2, r1, r2
 1949 0234 002083E5 		str	r2, [r3, #0]
  60:../gpio.c     **** 			break;
 1950              		.loc 1 60 0
 1951 0238 390000EA 		b	.L29
 1952              	.L25:
  61:../gpio.c     **** 		case OUTPUT:
  62:../gpio.c     **** 			// COMPLETAR: poner en rPCONG 01 a partir de la posición pos para
  63:../gpio.c     **** 			// configurar como pin de salida el pin indicado por el parámetro pin
  64:../gpio.c     **** 			rPCONG |= 1 << pos;			 // 1
 1953              		.loc 1 64 0
 1954 023c F4309FE5 		ldr	r3, .L30
 1955 0240 F0209FE5 		ldr	r2, .L30
 1956 0244 001092E5 		ldr	r1, [r2, #0]
 1957 0248 0100A0E3 		mov	r0, #1
 1958 024c 10201BE5 		ldr	r2, [fp, #-16]
 1959 0250 1022A0E1 		mov	r2, r0, asl r2
 1960 0254 022081E1 		orr	r2, r1, r2
 1961 0258 002083E5 		str	r2, [r3, #0]
  65:../gpio.c     **** 			rPCONG &= ~(1 << (pos + 1)); // 0
 1962              		.loc 1 65 0
 1963 025c D4309FE5 		ldr	r3, .L30
 1964 0260 D0209FE5 		ldr	r2, .L30
 1965 0264 001092E5 		ldr	r1, [r2, #0]
 1966 0268 10201BE5 		ldr	r2, [fp, #-16]
 1967 026c 012082E2 		add	r2, r2, #1
 1968 0270 0100A0E3 		mov	r0, #1
 1969 0274 1022A0E1 		mov	r2, r0, asl r2
 1970 0278 0220E0E1 		mvn	r2, r2
 1971 027c 022001E0 		and	r2, r1, r2
 1972 0280 002083E5 		str	r2, [r3, #0]
  66:../gpio.c     **** 			break;
 1973              		.loc 1 66 0
 1974 0284 260000EA 		b	.L29
 1975              	.L26:
  67:../gpio.c     **** 		case SIGOUT:
  68:../gpio.c     **** 			// COMPLETAR: poner en rPCONG 10 a partir de la posición pos para
  69:../gpio.c     **** 			// que salga la señal interna correspondiente por el pin indicado
  70:../gpio.c     **** 			// por el parámetro pin
  71:../gpio.c     **** 			rPCONG &= ~(1 << pos); 		// 0
 1976              		.loc 1 71 0
 1977 0288 A8309FE5 		ldr	r3, .L30
 1978 028c A4209FE5 		ldr	r2, .L30
 1979 0290 001092E5 		ldr	r1, [r2, #0]
 1980 0294 0100A0E3 		mov	r0, #1
 1981 0298 10201BE5 		ldr	r2, [fp, #-16]
 1982 029c 1022A0E1 		mov	r2, r0, asl r2
 1983 02a0 0220E0E1 		mvn	r2, r2
 1984 02a4 022001E0 		and	r2, r1, r2
 1985 02a8 002083E5 		str	r2, [r3, #0]
  72:../gpio.c     **** 			rPCONG |= 1 << (pos + 1);	// 1
 1986              		.loc 1 72 0
 1987 02ac 84309FE5 		ldr	r3, .L30
 1988 02b0 80209FE5 		ldr	r2, .L30
 1989 02b4 001092E5 		ldr	r1, [r2, #0]
 1990 02b8 10201BE5 		ldr	r2, [fp, #-16]
 1991 02bc 012082E2 		add	r2, r2, #1
 1992 02c0 0100A0E3 		mov	r0, #1
 1993 02c4 1022A0E1 		mov	r2, r0, asl r2
 1994 02c8 022081E1 		orr	r2, r1, r2
 1995 02cc 002083E5 		str	r2, [r3, #0]
  73:../gpio.c     **** 			break;
 1996              		.loc 1 73 0
 1997 02d0 130000EA 		b	.L29
 1998              	.L27:
  74:../gpio.c     **** 		case EINT:
  75:../gpio.c     **** 			// COMPLETAR: poner en rPCONG 11 a partir de la posición pos para
  76:../gpio.c     **** 			// habilitar la generación de interrupciones externas por el pin
  77:../gpio.c     **** 			// indicado por el parámetro pin
  78:../gpio.c     **** 			rPCONG |= 1 << pos;			// 1
 1999              		.loc 1 78 0
 2000 02d4 5C309FE5 		ldr	r3, .L30
 2001 02d8 58209FE5 		ldr	r2, .L30
 2002 02dc 001092E5 		ldr	r1, [r2, #0]
 2003 02e0 0100A0E3 		mov	r0, #1
 2004 02e4 10201BE5 		ldr	r2, [fp, #-16]
 2005 02e8 1022A0E1 		mov	r2, r0, asl r2
 2006 02ec 022081E1 		orr	r2, r1, r2
 2007 02f0 002083E5 		str	r2, [r3, #0]
  79:../gpio.c     **** 			rPCONG |= 1 << (pos + 1);	// 1
 2008              		.loc 1 79 0
 2009 02f4 3C309FE5 		ldr	r3, .L30
 2010 02f8 38209FE5 		ldr	r2, .L30
 2011 02fc 001092E5 		ldr	r1, [r2, #0]
 2012 0300 10201BE5 		ldr	r2, [fp, #-16]
 2013 0304 012082E2 		add	r2, r2, #1
 2014 0308 0100A0E3 		mov	r0, #1
 2015 030c 1022A0E1 		mov	r2, r0, asl r2
 2016 0310 022081E1 		orr	r2, r1, r2
 2017 0314 002083E5 		str	r2, [r3, #0]
  80:../gpio.c     **** 			break;
 2018              		.loc 1 80 0
 2019 0318 010000EA 		b	.L29
 2020              	.L23:
  81:../gpio.c     **** 		default:
  82:../gpio.c     **** 			return -1;
 2021              		.loc 1 82 0
 2022 031c 0030E0E3 		mvn	r3, #0
 2023 0320 000000EA 		b	.L22
 2024              	.L29:
  83:../gpio.c     **** 	}
  84:../gpio.c     **** 
  85:../gpio.c     **** 	return 0;
 2025              		.loc 1 85 0
 2026 0324 0030A0E3 		mov	r3, #0
 2027              	.L22:
  86:../gpio.c     **** }
 2028              		.loc 1 86 0
 2029 0328 0300A0E1 		mov	r0, r3
 2030 032c 0CD04BE2 		sub	sp, fp, #12
 2031 0330 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2032 0334 1EFF2FE1 		bx	lr
 2033              	.L31:
 2034              		.align	2
 2035              	.L30:
 2036 0338 4000D201 		.word	30539840
 2037              		.cfi_endproc
 2038              	.LFE2:
 2040              		.align	2
 2041              		.global	portG_eint_trig
 2043              	portG_eint_trig:
 2044              	.LFB3:
  87:../gpio.c     **** 
  88:../gpio.c     **** int portG_eint_trig(int pin, enum trigger trig)
  89:../gpio.c     **** {
 2045              		.loc 1 89 0
 2046              		.cfi_startproc
 2047              		@ Function supports interworking.
 2048              		@ args = 0, pretend = 0, frame = 16
 2049              		@ frame_needed = 1, uses_anonymous_args = 0
 2050 033c 0DC0A0E1 		mov	ip, sp
 2051              	.LCFI6:
 2052              		.cfi_def_cfa_register 12
 2053 0340 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2054 0344 04B04CE2 		sub	fp, ip, #4
 2055              		.cfi_offset 14, -8
 2056              		.cfi_offset 13, -12
 2057              		.cfi_offset 11, -16
 2058              	.LCFI7:
 2059              		.cfi_def_cfa 11, 4
 2060 0348 10D04DE2 		sub	sp, sp, #16
 2061 034c 18000BE5 		str	r0, [fp, #-24]
 2062 0350 0130A0E1 		mov	r3, r1
 2063 0354 19304BE5 		strb	r3, [fp, #-25]
  90:../gpio.c     **** 	int pos = pin*4;
 2064              		.loc 1 90 0
 2065 0358 18301BE5 		ldr	r3, [fp, #-24]
 2066 035c 0331A0E1 		mov	r3, r3, asl #2
 2067 0360 10300BE5 		str	r3, [fp, #-16]
  91:../gpio.c     **** 
  92:../gpio.c     **** 	if (pin < 0 || pin > 7)
 2068              		.loc 1 92 0
 2069 0364 18301BE5 		ldr	r3, [fp, #-24]
 2070 0368 000053E3 		cmp	r3, #0
 2071 036c 020000BA 		blt	.L33
 2072              		.loc 1 92 0 is_stmt 0 discriminator 1
 2073 0370 18301BE5 		ldr	r3, [fp, #-24]
 2074 0374 070053E3 		cmp	r3, #7
 2075 0378 010000DA 		ble	.L34
 2076              	.L33:
  93:../gpio.c     **** 		return -1;
 2077              		.loc 1 93 0 is_stmt 1
 2078 037c 0030E0E3 		mvn	r3, #0
 2079 0380 9C0000EA 		b	.L35
 2080              	.L34:
  94:../gpio.c     **** 
  95:../gpio.c     **** switch (trig) {
 2081              		.loc 1 95 0
 2082 0384 19305BE5 		ldrb	r3, [fp, #-25]	@ zero_extendqisi2
 2083 0388 040053E3 		cmp	r3, #4
 2084 038c 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 2085 0390 950000EA 		b	.L36
 2086              	.L42:
 2087 0394 A8030000 		.word	.L37
 2088 0398 20040000 		.word	.L38
 2089 039c 94040000 		.word	.L39
 2090 03a0 08050000 		.word	.L40
 2091 03a4 7C050000 		.word	.L41
 2092              	.L37:
  96:../gpio.c     **** 		case LLOW:
  97:../gpio.c     **** 			// COMPLETAR: poner en rEXTINT a partir de la posición pos tres bits
  98:../gpio.c     **** 			// a 000, para configurar interrupciones externas por nivel bajo
  99:../gpio.c     **** 			rEXTINT &= ~(1 << pos);	 		// 0
 2093              		.loc 1 99 0
 2094 03a8 58329FE5 		ldr	r3, .L44
 2095 03ac 54229FE5 		ldr	r2, .L44
 2096 03b0 001092E5 		ldr	r1, [r2, #0]
 2097 03b4 0100A0E3 		mov	r0, #1
 2098 03b8 10201BE5 		ldr	r2, [fp, #-16]
 2099 03bc 1022A0E1 		mov	r2, r0, asl r2
 2100 03c0 0220E0E1 		mvn	r2, r2
 2101 03c4 022001E0 		and	r2, r1, r2
 2102 03c8 002083E5 		str	r2, [r3, #0]
 100:../gpio.c     **** 			rEXTINT &= ~(1 << (pos + 1));	// 0
 2103              		.loc 1 100 0
 2104 03cc 34329FE5 		ldr	r3, .L44
 2105 03d0 30229FE5 		ldr	r2, .L44
 2106 03d4 001092E5 		ldr	r1, [r2, #0]
 2107 03d8 10201BE5 		ldr	r2, [fp, #-16]
 2108 03dc 012082E2 		add	r2, r2, #1
 2109 03e0 0100A0E3 		mov	r0, #1
 2110 03e4 1022A0E1 		mov	r2, r0, asl r2
 2111 03e8 0220E0E1 		mvn	r2, r2
 2112 03ec 022001E0 		and	r2, r1, r2
 2113 03f0 002083E5 		str	r2, [r3, #0]
 101:../gpio.c     **** 			rEXTINT &= ~(1 << (pos + 2));	// 0
 2114              		.loc 1 101 0
 2115 03f4 0C329FE5 		ldr	r3, .L44
 2116 03f8 08229FE5 		ldr	r2, .L44
 2117 03fc 001092E5 		ldr	r1, [r2, #0]
 2118 0400 10201BE5 		ldr	r2, [fp, #-16]
 2119 0404 022082E2 		add	r2, r2, #2
 2120 0408 0100A0E3 		mov	r0, #1
 2121 040c 1022A0E1 		mov	r2, r0, asl r2
 2122 0410 0220E0E1 		mvn	r2, r2
 2123 0414 022001E0 		and	r2, r1, r2
 2124 0418 002083E5 		str	r2, [r3, #0]
 102:../gpio.c     **** 			break;
 2125              		.loc 1 102 0
 2126 041c 740000EA 		b	.L43
 2127              	.L38:
 103:../gpio.c     **** 		case LHIGH:
 104:../gpio.c     **** 			// COMPLETAR: poner en rEXTINT a partir de la posición pos tres bits
 105:../gpio.c     **** 			// a 001, para configurar interrupciones externas por nivel alto
 106:../gpio.c     **** 			rEXTINT |= 1 << pos;	 		// 1
 2128              		.loc 1 106 0
 2129 0420 E0319FE5 		ldr	r3, .L44
 2130 0424 DC219FE5 		ldr	r2, .L44
 2131 0428 001092E5 		ldr	r1, [r2, #0]
 2132 042c 0100A0E3 		mov	r0, #1
 2133 0430 10201BE5 		ldr	r2, [fp, #-16]
 2134 0434 1022A0E1 		mov	r2, r0, asl r2
 2135 0438 022081E1 		orr	r2, r1, r2
 2136 043c 002083E5 		str	r2, [r3, #0]
 107:../gpio.c     **** 			rEXTINT &= ~(1 << (pos + 1));	// 0
 2137              		.loc 1 107 0
 2138 0440 C0319FE5 		ldr	r3, .L44
 2139 0444 BC219FE5 		ldr	r2, .L44
 2140 0448 001092E5 		ldr	r1, [r2, #0]
 2141 044c 10201BE5 		ldr	r2, [fp, #-16]
 2142 0450 012082E2 		add	r2, r2, #1
 2143 0454 0100A0E3 		mov	r0, #1
 2144 0458 1022A0E1 		mov	r2, r0, asl r2
 2145 045c 0220E0E1 		mvn	r2, r2
 2146 0460 022001E0 		and	r2, r1, r2
 2147 0464 002083E5 		str	r2, [r3, #0]
 108:../gpio.c     **** 			rEXTINT &= ~(1 << (pos + 2));	// 0
 2148              		.loc 1 108 0
 2149 0468 98319FE5 		ldr	r3, .L44
 2150 046c 94219FE5 		ldr	r2, .L44
 2151 0470 001092E5 		ldr	r1, [r2, #0]
 2152 0474 10201BE5 		ldr	r2, [fp, #-16]
 2153 0478 022082E2 		add	r2, r2, #2
 2154 047c 0100A0E3 		mov	r0, #1
 2155 0480 1022A0E1 		mov	r2, r0, asl r2
 2156 0484 0220E0E1 		mvn	r2, r2
 2157 0488 022001E0 		and	r2, r1, r2
 2158 048c 002083E5 		str	r2, [r3, #0]
 109:../gpio.c     **** 			break;
 2159              		.loc 1 109 0
 2160 0490 570000EA 		b	.L43
 2161              	.L39:
 110:../gpio.c     **** 		case FALLING:
 111:../gpio.c     **** 			// COMPLETAR: poner en rEXTINT a partir de la posición pos tres bits
 112:../gpio.c     **** 			// a 010, para configurar interrupciones externas por flanco de
 113:../gpio.c     **** 			// bajada
 114:../gpio.c     **** 			rEXTINT &= ~(1 << pos);	 		// 0
 2162              		.loc 1 114 0
 2163 0494 6C319FE5 		ldr	r3, .L44
 2164 0498 68219FE5 		ldr	r2, .L44
 2165 049c 001092E5 		ldr	r1, [r2, #0]
 2166 04a0 0100A0E3 		mov	r0, #1
 2167 04a4 10201BE5 		ldr	r2, [fp, #-16]
 2168 04a8 1022A0E1 		mov	r2, r0, asl r2
 2169 04ac 0220E0E1 		mvn	r2, r2
 2170 04b0 022001E0 		and	r2, r1, r2
 2171 04b4 002083E5 		str	r2, [r3, #0]
 115:../gpio.c     **** 			rEXTINT |= 1 << (pos + 1);	 	// 1
 2172              		.loc 1 115 0
 2173 04b8 48319FE5 		ldr	r3, .L44
 2174 04bc 44219FE5 		ldr	r2, .L44
 2175 04c0 001092E5 		ldr	r1, [r2, #0]
 2176 04c4 10201BE5 		ldr	r2, [fp, #-16]
 2177 04c8 012082E2 		add	r2, r2, #1
 2178 04cc 0100A0E3 		mov	r0, #1
 2179 04d0 1022A0E1 		mov	r2, r0, asl r2
 2180 04d4 022081E1 		orr	r2, r1, r2
 2181 04d8 002083E5 		str	r2, [r3, #0]
 116:../gpio.c     **** 			rEXTINT &= ~(1 << (pos + 2));	// 0
 2182              		.loc 1 116 0
 2183 04dc 24319FE5 		ldr	r3, .L44
 2184 04e0 20219FE5 		ldr	r2, .L44
 2185 04e4 001092E5 		ldr	r1, [r2, #0]
 2186 04e8 10201BE5 		ldr	r2, [fp, #-16]
 2187 04ec 022082E2 		add	r2, r2, #2
 2188 04f0 0100A0E3 		mov	r0, #1
 2189 04f4 1022A0E1 		mov	r2, r0, asl r2
 2190 04f8 0220E0E1 		mvn	r2, r2
 2191 04fc 022001E0 		and	r2, r1, r2
 2192 0500 002083E5 		str	r2, [r3, #0]
 117:../gpio.c     **** 			break;
 2193              		.loc 1 117 0
 2194 0504 3A0000EA 		b	.L43
 2195              	.L40:
 118:../gpio.c     **** 		case RISING:
 119:../gpio.c     **** 			// COMPLETAR: poner en rEXTINT a partir de la posición pos tres bits
 120:../gpio.c     **** 			// a 100, para configurar interrupciones externas por flanco de
 121:../gpio.c     **** 			// subida
 122:../gpio.c     **** 			rEXTINT &= ~(1 << pos);	 		// 0
 2196              		.loc 1 122 0
 2197 0508 F8309FE5 		ldr	r3, .L44
 2198 050c F4209FE5 		ldr	r2, .L44
 2199 0510 001092E5 		ldr	r1, [r2, #0]
 2200 0514 0100A0E3 		mov	r0, #1
 2201 0518 10201BE5 		ldr	r2, [fp, #-16]
 2202 051c 1022A0E1 		mov	r2, r0, asl r2
 2203 0520 0220E0E1 		mvn	r2, r2
 2204 0524 022001E0 		and	r2, r1, r2
 2205 0528 002083E5 		str	r2, [r3, #0]
 123:../gpio.c     **** 			rEXTINT &= ~(1 << (pos + 1));	// 0
 2206              		.loc 1 123 0
 2207 052c D4309FE5 		ldr	r3, .L44
 2208 0530 D0209FE5 		ldr	r2, .L44
 2209 0534 001092E5 		ldr	r1, [r2, #0]
 2210 0538 10201BE5 		ldr	r2, [fp, #-16]
 2211 053c 012082E2 		add	r2, r2, #1
 2212 0540 0100A0E3 		mov	r0, #1
 2213 0544 1022A0E1 		mov	r2, r0, asl r2
 2214 0548 0220E0E1 		mvn	r2, r2
 2215 054c 022001E0 		and	r2, r1, r2
 2216 0550 002083E5 		str	r2, [r3, #0]
 124:../gpio.c     **** 			rEXTINT |= 1 << (pos + 2);	 	// 1
 2217              		.loc 1 124 0
 2218 0554 AC309FE5 		ldr	r3, .L44
 2219 0558 A8209FE5 		ldr	r2, .L44
 2220 055c 001092E5 		ldr	r1, [r2, #0]
 2221 0560 10201BE5 		ldr	r2, [fp, #-16]
 2222 0564 022082E2 		add	r2, r2, #2
 2223 0568 0100A0E3 		mov	r0, #1
 2224 056c 1022A0E1 		mov	r2, r0, asl r2
 2225 0570 022081E1 		orr	r2, r1, r2
 2226 0574 002083E5 		str	r2, [r3, #0]
 125:../gpio.c     **** 			break;
 2227              		.loc 1 125 0
 2228 0578 1D0000EA 		b	.L43
 2229              	.L41:
 126:../gpio.c     **** 		case EDGE:
 127:../gpio.c     **** 			// COMPLETAR: poner en rEXTINT a partir de la posición pos tres bits
 128:../gpio.c     **** 			// a 110, para configurar interrupciones externas por cualquier
 129:../gpio.c     **** 			// flanco
 130:../gpio.c     **** 			rEXTINT &= ~(1 << pos);	 		// 0
 2230              		.loc 1 130 0
 2231 057c 84309FE5 		ldr	r3, .L44
 2232 0580 80209FE5 		ldr	r2, .L44
 2233 0584 001092E5 		ldr	r1, [r2, #0]
 2234 0588 0100A0E3 		mov	r0, #1
 2235 058c 10201BE5 		ldr	r2, [fp, #-16]
 2236 0590 1022A0E1 		mov	r2, r0, asl r2
 2237 0594 0220E0E1 		mvn	r2, r2
 2238 0598 022001E0 		and	r2, r1, r2
 2239 059c 002083E5 		str	r2, [r3, #0]
 131:../gpio.c     **** 			rEXTINT |= 1 << (pos + 1);	 	// 1
 2240              		.loc 1 131 0
 2241 05a0 60309FE5 		ldr	r3, .L44
 2242 05a4 5C209FE5 		ldr	r2, .L44
 2243 05a8 001092E5 		ldr	r1, [r2, #0]
 2244 05ac 10201BE5 		ldr	r2, [fp, #-16]
 2245 05b0 012082E2 		add	r2, r2, #1
 2246 05b4 0100A0E3 		mov	r0, #1
 2247 05b8 1022A0E1 		mov	r2, r0, asl r2
 2248 05bc 022081E1 		orr	r2, r1, r2
 2249 05c0 002083E5 		str	r2, [r3, #0]
 132:../gpio.c     **** 			rEXTINT |= 1 << (pos + 2);	 	// 1
 2250              		.loc 1 132 0
 2251 05c4 3C309FE5 		ldr	r3, .L44
 2252 05c8 38209FE5 		ldr	r2, .L44
 2253 05cc 001092E5 		ldr	r1, [r2, #0]
 2254 05d0 10201BE5 		ldr	r2, [fp, #-16]
 2255 05d4 022082E2 		add	r2, r2, #2
 2256 05d8 0100A0E3 		mov	r0, #1
 2257 05dc 1022A0E1 		mov	r2, r0, asl r2
 2258 05e0 022081E1 		orr	r2, r1, r2
 2259 05e4 002083E5 		str	r2, [r3, #0]
 133:../gpio.c     **** 			break;
 2260              		.loc 1 133 0
 2261 05e8 010000EA 		b	.L43
 2262              	.L36:
 134:../gpio.c     **** 		default:
 135:../gpio.c     **** 			return -1;
 2263              		.loc 1 135 0
 2264 05ec 0030E0E3 		mvn	r3, #0
 2265 05f0 000000EA 		b	.L35
 2266              	.L43:
 136:../gpio.c     **** 	}
 137:../gpio.c     **** 	return 0;
 2267              		.loc 1 137 0
 2268 05f4 0030A0E3 		mov	r3, #0
 2269              	.L35:
 138:../gpio.c     **** }
 2270              		.loc 1 138 0
 2271 05f8 0300A0E1 		mov	r0, r3
 2272 05fc 0CD04BE2 		sub	sp, fp, #12
 2273 0600 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2274 0604 1EFF2FE1 		bx	lr
 2275              	.L45:
 2276              		.align	2
 2277              	.L44:
 2278 0608 5000D201 		.word	30539856
 2279              		.cfi_endproc
 2280              	.LFE3:
 2282              		.align	2
 2283              		.global	portG_write
 2285              	portG_write:
 2286              	.LFB4:
 139:../gpio.c     **** 
 140:../gpio.c     **** int portG_write(int pin, enum digital val)
 141:../gpio.c     **** {
 2287              		.loc 1 141 0
 2288              		.cfi_startproc
 2289              		@ Function supports interworking.
 2290              		@ args = 0, pretend = 0, frame = 16
 2291              		@ frame_needed = 1, uses_anonymous_args = 0
 2292 060c 0DC0A0E1 		mov	ip, sp
 2293              	.LCFI8:
 2294              		.cfi_def_cfa_register 12
 2295 0610 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2296 0614 04B04CE2 		sub	fp, ip, #4
 2297              		.cfi_offset 14, -8
 2298              		.cfi_offset 13, -12
 2299              		.cfi_offset 11, -16
 2300              	.LCFI9:
 2301              		.cfi_def_cfa 11, 4
 2302 0618 10D04DE2 		sub	sp, sp, #16
 2303 061c 18000BE5 		str	r0, [fp, #-24]
 2304 0620 0130A0E1 		mov	r3, r1
 2305 0624 19304BE5 		strb	r3, [fp, #-25]
 142:../gpio.c     **** 	int pos = pin*2;
 2306              		.loc 1 142 0
 2307 0628 18301BE5 		ldr	r3, [fp, #-24]
 2308 062c 8330A0E1 		mov	r3, r3, asl #1
 2309 0630 10300BE5 		str	r3, [fp, #-16]
 143:../gpio.c     **** 
 144:../gpio.c     **** 		if (pin < 0 || pin > 7)
 2310              		.loc 1 144 0
 2311 0634 18301BE5 		ldr	r3, [fp, #-24]
 2312 0638 000053E3 		cmp	r3, #0
 2313 063c 020000BA 		blt	.L47
 2314              		.loc 1 144 0 is_stmt 0 discriminator 1
 2315 0640 18301BE5 		ldr	r3, [fp, #-24]
 2316 0644 070053E3 		cmp	r3, #7
 2317 0648 010000DA 		ble	.L48
 2318              	.L47:
 145:../gpio.c     **** 			return -1; // indica error
 2319              		.loc 1 145 0 is_stmt 1
 2320 064c 0030E0E3 		mvn	r3, #0
 2321 0650 270000EA 		b	.L49
 2322              	.L48:
 146:../gpio.c     **** 
 147:../gpio.c     **** 		if (val < 0 || val > 1)
 2323              		.loc 1 147 0
 2324 0654 19305BE5 		ldrb	r3, [fp, #-25]	@ zero_extendqisi2
 2325 0658 010053E3 		cmp	r3, #1
 2326 065c 0100009A 		bls	.L50
 148:../gpio.c     **** 			return -1; // indica error
 2327              		.loc 1 148 0
 2328 0660 0030E0E3 		mvn	r3, #0
 2329 0664 220000EA 		b	.L49
 2330              	.L50:
 149:../gpio.c     **** 
 150:../gpio.c     **** 		if ((rPCONG & (0x3 << pos)) != (0x1 << pos))
 2331              		.loc 1 150 0
 2332 0668 94309FE5 		ldr	r3, .L54
 2333 066c 002093E5 		ldr	r2, [r3, #0]
 2334 0670 0310A0E3 		mov	r1, #3
 2335 0674 10301BE5 		ldr	r3, [fp, #-16]
 2336 0678 1133A0E1 		mov	r3, r1, asl r3
 2337 067c 032002E0 		and	r2, r2, r3
 2338 0680 0110A0E3 		mov	r1, #1
 2339 0684 10301BE5 		ldr	r3, [fp, #-16]
 2340 0688 1133A0E1 		mov	r3, r1, asl r3
 2341 068c 030052E1 		cmp	r2, r3
 2342 0690 0100000A 		beq	.L51
 151:../gpio.c     **** 			return -1; // indica error
 2343              		.loc 1 151 0
 2344 0694 0030E0E3 		mvn	r3, #0
 2345 0698 150000EA 		b	.L49
 2346              	.L51:
 152:../gpio.c     **** 
 153:../gpio.c     **** 		if (val)
 2347              		.loc 1 153 0
 2348 069c 19305BE5 		ldrb	r3, [fp, #-25]	@ zero_extendqisi2
 2349 06a0 000053E3 		cmp	r3, #0
 2350 06a4 0800000A 		beq	.L52
 154:../gpio.c     **** 			// COMPLETAR: poner en rPDATG el bit indicado por pin a 1
 155:../gpio.c     **** 			rPDATG |= 1 << pin;
 2351              		.loc 1 155 0
 2352 06a8 58309FE5 		ldr	r3, .L54+4
 2353 06ac 54209FE5 		ldr	r2, .L54+4
 2354 06b0 001092E5 		ldr	r1, [r2, #0]
 2355 06b4 0100A0E3 		mov	r0, #1
 2356 06b8 18201BE5 		ldr	r2, [fp, #-24]
 2357 06bc 1022A0E1 		mov	r2, r0, asl r2
 2358 06c0 022081E1 		orr	r2, r1, r2
 2359 06c4 002083E5 		str	r2, [r3, #0]
 2360 06c8 080000EA 		b	.L53
 2361              	.L52:
 156:../gpio.c     **** 		else
 157:../gpio.c     **** 			// COMPLETAR: poner en rPDATG el bit indicado por pin a 0
 158:../gpio.c     **** 			rPDATG &= ~(1 << pin);
 2362              		.loc 1 158 0
 2363 06cc 34309FE5 		ldr	r3, .L54+4
 2364 06d0 30209FE5 		ldr	r2, .L54+4
 2365 06d4 001092E5 		ldr	r1, [r2, #0]
 2366 06d8 0100A0E3 		mov	r0, #1
 2367 06dc 18201BE5 		ldr	r2, [fp, #-24]
 2368 06e0 1022A0E1 		mov	r2, r0, asl r2
 2369 06e4 0220E0E1 		mvn	r2, r2
 2370 06e8 022001E0 		and	r2, r1, r2
 2371 06ec 002083E5 		str	r2, [r3, #0]
 2372              	.L53:
 159:../gpio.c     **** 
 160:../gpio.c     **** 		return 0;
 2373              		.loc 1 160 0
 2374 06f0 0030A0E3 		mov	r3, #0
 2375              	.L49:
 161:../gpio.c     **** }
 2376              		.loc 1 161 0
 2377 06f4 0300A0E1 		mov	r0, r3
 2378 06f8 0CD04BE2 		sub	sp, fp, #12
 2379 06fc 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2380 0700 1EFF2FE1 		bx	lr
 2381              	.L55:
 2382              		.align	2
 2383              	.L54:
 2384 0704 4000D201 		.word	30539840
 2385 0708 4400D201 		.word	30539844
 2386              		.cfi_endproc
 2387              	.LFE4:
 2389              		.align	2
 2390              		.global	portG_read
 2392              	portG_read:
 2393              	.LFB5:
 162:../gpio.c     **** 
 163:../gpio.c     **** int portG_read(int pin, enum digital* val)
 164:../gpio.c     **** {
 2394              		.loc 1 164 0
 2395              		.cfi_startproc
 2396              		@ Function supports interworking.
 2397              		@ args = 0, pretend = 0, frame = 16
 2398              		@ frame_needed = 1, uses_anonymous_args = 0
 2399 070c 0DC0A0E1 		mov	ip, sp
 2400              	.LCFI10:
 2401              		.cfi_def_cfa_register 12
 2402 0710 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2403 0714 04B04CE2 		sub	fp, ip, #4
 2404              		.cfi_offset 14, -8
 2405              		.cfi_offset 13, -12
 2406              		.cfi_offset 11, -16
 2407              	.LCFI11:
 2408              		.cfi_def_cfa 11, 4
 2409 0718 10D04DE2 		sub	sp, sp, #16
 2410 071c 18000BE5 		str	r0, [fp, #-24]
 2411 0720 1C100BE5 		str	r1, [fp, #-28]
 165:../gpio.c     **** 	int pos = pin*2;
 2412              		.loc 1 165 0
 2413 0724 18301BE5 		ldr	r3, [fp, #-24]
 2414 0728 8330A0E1 		mov	r3, r3, asl #1
 2415 072c 10300BE5 		str	r3, [fp, #-16]
 166:../gpio.c     **** 
 167:../gpio.c     **** 	if (pin < 0 || pin > 7)
 2416              		.loc 1 167 0
 2417 0730 18301BE5 		ldr	r3, [fp, #-24]
 2418 0734 000053E3 		cmp	r3, #0
 2419 0738 020000BA 		blt	.L57
 2420              		.loc 1 167 0 is_stmt 0 discriminator 1
 2421 073c 18301BE5 		ldr	r3, [fp, #-24]
 2422 0740 070053E3 		cmp	r3, #7
 2423 0744 010000DA 		ble	.L58
 2424              	.L57:
 168:../gpio.c     **** 		return -1; // indica error
 2425              		.loc 1 168 0 is_stmt 1
 2426 0748 0030E0E3 		mvn	r3, #0
 2427 074c 190000EA 		b	.L59
 2428              	.L58:
 169:../gpio.c     **** 
 170:../gpio.c     **** 	if (rPCONG & (0x3 << pos))
 2429              		.loc 1 170 0
 2430 0750 70309FE5 		ldr	r3, .L63
 2431 0754 002093E5 		ldr	r2, [r3, #0]
 2432 0758 0310A0E3 		mov	r1, #3
 2433 075c 10301BE5 		ldr	r3, [fp, #-16]
 2434 0760 1133A0E1 		mov	r3, r1, asl r3
 2435 0764 033002E0 		and	r3, r2, r3
 2436 0768 000053E3 		cmp	r3, #0
 2437 076c 0100000A 		beq	.L60
 171:../gpio.c     **** 		return -1; // indica error
 2438              		.loc 1 171 0
 2439 0770 0030E0E3 		mvn	r3, #0
 2440 0774 0F0000EA 		b	.L59
 2441              	.L60:
 172:../gpio.c     **** 
 173:../gpio.c     **** 	/*COMPLETAR: true si está a 1 en rPDATG el pin indicado por el parámetro pin*/
 174:../gpio.c     **** 	if (rPDATG & (1 << pin))
 2442              		.loc 1 174 0
 2443 0778 4C309FE5 		ldr	r3, .L63+4
 2444 077c 002093E5 		ldr	r2, [r3, #0]
 2445 0780 0110A0E3 		mov	r1, #1
 2446 0784 18301BE5 		ldr	r3, [fp, #-24]
 2447 0788 1133A0E1 		mov	r3, r1, asl r3
 2448 078c 033002E0 		and	r3, r2, r3
 2449 0790 000053E3 		cmp	r3, #0
 2450 0794 0300000A 		beq	.L61
 175:../gpio.c     **** 		*val = HIGH;
 2451              		.loc 1 175 0
 2452 0798 1C301BE5 		ldr	r3, [fp, #-28]
 2453 079c 0120A0E3 		mov	r2, #1
 2454 07a0 0020C3E5 		strb	r2, [r3, #0]
 2455 07a4 020000EA 		b	.L62
 2456              	.L61:
 176:../gpio.c     **** 	else
 177:../gpio.c     **** 		*val = LOW;
 2457              		.loc 1 177 0
 2458 07a8 1C301BE5 		ldr	r3, [fp, #-28]
 2459 07ac 0020A0E3 		mov	r2, #0
 2460 07b0 0020C3E5 		strb	r2, [r3, #0]
 2461              	.L62:
 178:../gpio.c     **** 
 179:../gpio.c     **** 	return 0;
 2462              		.loc 1 179 0
 2463 07b4 0030A0E3 		mov	r3, #0
 2464              	.L59:
 180:../gpio.c     **** }
 2465              		.loc 1 180 0
 2466 07b8 0300A0E1 		mov	r0, r3
 2467 07bc 0CD04BE2 		sub	sp, fp, #12
 2468 07c0 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2469 07c4 1EFF2FE1 		bx	lr
 2470              	.L64:
 2471              		.align	2
 2472              	.L63:
 2473 07c8 4000D201 		.word	30539840
 2474 07cc 4400D201 		.word	30539844
 2475              		.cfi_endproc
 2476              	.LFE5:
 2478              		.align	2
 2479              		.global	portG_conf_pup
 2481              	portG_conf_pup:
 2482              	.LFB6:
 181:../gpio.c     **** 
 182:../gpio.c     **** int portG_conf_pup(int pin, enum enable st)
 183:../gpio.c     **** {
 2483              		.loc 1 183 0
 2484              		.cfi_startproc
 2485              		@ Function supports interworking.
 2486              		@ args = 0, pretend = 0, frame = 8
 2487              		@ frame_needed = 1, uses_anonymous_args = 0
 2488 07d0 0DC0A0E1 		mov	ip, sp
 2489              	.LCFI12:
 2490              		.cfi_def_cfa_register 12
 2491 07d4 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2492 07d8 04B04CE2 		sub	fp, ip, #4
 2493              		.cfi_offset 14, -8
 2494              		.cfi_offset 13, -12
 2495              		.cfi_offset 11, -16
 2496              	.LCFI13:
 2497              		.cfi_def_cfa 11, 4
 2498 07dc 08D04DE2 		sub	sp, sp, #8
 2499 07e0 10000BE5 		str	r0, [fp, #-16]
 2500 07e4 0130A0E1 		mov	r3, r1
 2501 07e8 11304BE5 		strb	r3, [fp, #-17]
 184:../gpio.c     **** 	if (pin < 0 || pin > 7)
 2502              		.loc 1 184 0
 2503 07ec 10301BE5 		ldr	r3, [fp, #-16]
 2504 07f0 000053E3 		cmp	r3, #0
 2505 07f4 020000BA 		blt	.L66
 2506              		.loc 1 184 0 is_stmt 0 discriminator 1
 2507 07f8 10301BE5 		ldr	r3, [fp, #-16]
 2508 07fc 070053E3 		cmp	r3, #7
 2509 0800 010000DA 		ble	.L67
 2510              	.L66:
 185:../gpio.c     **** 		return -1; // indica error
 2511              		.loc 1 185 0 is_stmt 1
 2512 0804 0030E0E3 		mvn	r3, #0
 2513 0808 1D0000EA 		b	.L68
 2514              	.L67:
 186:../gpio.c     **** 
 187:../gpio.c     **** 	if (st != ENABLE && st != DISABLE)
 2515              		.loc 1 187 0
 2516 080c 11305BE5 		ldrb	r3, [fp, #-17]	@ zero_extendqisi2
 2517 0810 010053E3 		cmp	r3, #1
 2518 0814 0400000A 		beq	.L69
 2519              		.loc 1 187 0 is_stmt 0 discriminator 1
 2520 0818 11305BE5 		ldrb	r3, [fp, #-17]	@ zero_extendqisi2
 2521 081c 000053E3 		cmp	r3, #0
 2522 0820 0100000A 		beq	.L69
 188:../gpio.c     **** 		return -1; // indica error
 2523              		.loc 1 188 0 is_stmt 1
 2524 0824 0030E0E3 		mvn	r3, #0
 2525 0828 150000EA 		b	.L68
 2526              	.L69:
 189:../gpio.c     **** 
 190:../gpio.c     **** 	if (st == ENABLE)
 2527              		.loc 1 190 0
 2528 082c 11305BE5 		ldrb	r3, [fp, #-17]	@ zero_extendqisi2
 2529 0830 010053E3 		cmp	r3, #1
 2530 0834 0900001A 		bne	.L70
 191:../gpio.c     **** 		// COMPLETAR: poner el pin de rPUPG indicado por el parametro pin al valor adecuado,
 192:../gpio.c     **** 		// para activar la resistencia de pull-up
 193:../gpio.c     **** 		rPUPG &= ~(1 << pin);
 2531              		.loc 1 193 0
 2532 0838 54309FE5 		ldr	r3, .L72
 2533 083c 50209FE5 		ldr	r2, .L72
 2534 0840 001092E5 		ldr	r1, [r2, #0]
 2535 0844 0100A0E3 		mov	r0, #1
 2536 0848 10201BE5 		ldr	r2, [fp, #-16]
 2537 084c 1022A0E1 		mov	r2, r0, asl r2
 2538 0850 0220E0E1 		mvn	r2, r2
 2539 0854 022001E0 		and	r2, r1, r2
 2540 0858 002083E5 		str	r2, [r3, #0]
 2541 085c 070000EA 		b	.L71
 2542              	.L70:
 194:../gpio.c     **** 	else
 195:../gpio.c     **** 		// COMPLETAR: poner el pin de rPUPG indicado por el parametro pin al valor adecuado,
 196:../gpio.c     **** 		// para desactivar la resistencia de pull-up
 197:../gpio.c     **** 		rPUPG |= 1 << pin;
 2543              		.loc 1 197 0
 2544 0860 2C309FE5 		ldr	r3, .L72
 2545 0864 28209FE5 		ldr	r2, .L72
 2546 0868 001092E5 		ldr	r1, [r2, #0]
 2547 086c 0100A0E3 		mov	r0, #1
 2548 0870 10201BE5 		ldr	r2, [fp, #-16]
 2549 0874 1022A0E1 		mov	r2, r0, asl r2
 2550 0878 022081E1 		orr	r2, r1, r2
 2551 087c 002083E5 		str	r2, [r3, #0]
 2552              	.L71:
 198:../gpio.c     **** 
 199:../gpio.c     **** 	return 0;
 2553              		.loc 1 199 0
 2554 0880 0030A0E3 		mov	r3, #0
 2555              	.L68:
 200:../gpio.c     **** }
 2556              		.loc 1 200 0
 2557 0884 0300A0E1 		mov	r0, r3
 2558 0888 0CD04BE2 		sub	sp, fp, #12
 2559 088c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2560 0890 1EFF2FE1 		bx	lr
 2561              	.L73:
 2562              		.align	2
 2563              	.L72:
 2564 0894 4800D201 		.word	30539848
 2565              		.cfi_endproc
 2566              	.LFE6:
 2568              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 gpio.c
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1701   .text:00000000 $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1704   .text:00000000 portB_conf
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1787   .text:000000c4 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1791   .text:000000c8 $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1794   .text:000000c8 portB_write
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1873   .text:00000180 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1877   .text:00000184 $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1880   .text:00000184 portG_conf
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1924   .text:000001dc $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:1930   .text:000001ec $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2036   .text:00000338 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2040   .text:0000033c $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2043   .text:0000033c portG_eint_trig
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2087   .text:00000394 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2094   .text:000003a8 $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2278   .text:00000608 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2282   .text:0000060c $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2285   .text:0000060c portG_write
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2384   .text:00000704 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2389   .text:0000070c $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2392   .text:0000070c portG_read
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2473   .text:000007c8 $d
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2478   .text:000007d0 $a
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2481   .text:000007d0 portG_conf_pup
C:\Users\Pedro\AppData\Local\Temp\ccuRRt1O.s:2564   .text:00000894 $d
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
