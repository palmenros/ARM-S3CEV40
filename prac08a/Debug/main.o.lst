   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  21              	.Ltext0:
  22              		.file 1 "../main.c"
 2932              		.align	2
 2933              		.global	timer_ISR
 2935              	timer_ISR:
 2936              	.LFB0:
   1:../main.c     **** #include <stdio.h>
   2:../main.c     **** #include "44b.h"
   3:../main.c     **** #include "button.h"
   4:../main.c     **** #include "leds.h"
   5:../main.c     **** #include "utils.h"
   6:../main.c     **** #include "D8Led.h"
   7:../main.c     **** #include "intcontroller.h"
   8:../main.c     **** #include "timer.h"
   9:../main.c     **** #include "gpio.h"
  10:../main.c     **** #include "keyboard.h"
  11:../main.c     **** #include "uart.h"
  12:../main.c     **** #include "rtc.h"
  13:../main.c     **** #include "common_types.h"
  14:../main.c     **** #include "at24c04.h"
  15:../main.c     **** #include "lcd.h"
  16:../main.c     **** #include "iic.h"
  17:../main.c     **** #include "tests/test_sound_effects.h"
  18:../main.c     **** #include "tests/test_WAV.h"
  19:../main.c     **** 
  20:../main.c     **** // BMP Images sourced by using GDB
  21:../main.c     **** #define ARBOL      ((uint8 *)0x0c210000)
  22:../main.c     **** #define PADRINO    ((uint8 *)0x0c220000)
  23:../main.c     **** #define PICACHU    ((uint8 *)0x0c230000)
  24:../main.c     **** #define HARRY      ((uint8 *)0x0c240000)
  25:../main.c     **** #define CHAPLIN    ((uint8 *)0x0c250000)
  26:../main.c     **** #define PULP       ((uint8 *)0x0c260000)
  27:../main.c     **** #define MAPA       ((uint8 *)0x0c270000)
  28:../main.c     **** 
  29:../main.c     **** void timer_ISR(void) __attribute__ ((interrupt ("IRQ")));
  30:../main.c     **** void button_ISR(void) __attribute__ ((interrupt ("IRQ")));
  31:../main.c     **** void keyboard_ISR(void) __attribute__ ((interrupt ("IRQ")));
  32:../main.c     **** void rtc_ISR(void)  __attribute__ ((interrupt ("IRQ")));
  33:../main.c     **** void rtc_alarm_ISR(void)  __attribute__ ((interrupt ("IRQ")));
  34:../main.c     **** 
  35:../main.c     **** void timer_ISR(void)
  36:../main.c     **** {
 2937              		.loc 1 36 0
 2938              		.cfi_startproc
 2939              		@ Interrupt Service Routine.
 2940              		@ args = 0, pretend = 0, frame = 0
 2941              		@ frame_needed = 1, uses_anonymous_args = 0
 2942 0000 04C02DE5 		str	ip, [sp, #-4]!
 2943 0004 0DC0A0E1 		mov	ip, sp
 2944              	.LCFI0:
 2945              		.cfi_def_cfa_register 12
 2946 0008 0FD82DE9 		stmfd	sp!, {r0, r1, r2, r3, fp, ip, lr, pc}
 2947 000c 04B04CE2 		sub	fp, ip, #4
 2948              		.cfi_offset 14, -8
 2949              		.cfi_offset 13, -12
 2950              		.cfi_offset 11, -16
 2951              		.cfi_offset 3, -20
 2952              		.cfi_offset 2, -24
 2953              		.cfi_offset 1, -28
 2954              		.cfi_offset 0, -32
 2955              	.LCFI1:
 2956              		.cfi_def_cfa 11, 4
  37:../main.c     **** 	//Timer ISR Implementation
  38:../main.c     **** 	led1_switch();
 2957              		.loc 1 38 0
 2958 0010 FEFFFFEB 		bl	led1_switch
  39:../main.c     **** 	led2_switch();
 2959              		.loc 1 39 0
 2960 0014 FEFFFFEB 		bl	led2_switch
  40:../main.c     **** 
  41:../main.c     **** 	ic_cleanflag(INT_TIMER0);
 2961              		.loc 1 41 0
 2962 0018 0D00A0E3 		mov	r0, #13
 2963 001c FEFFFFEB 		bl	ic_cleanflag
  42:../main.c     **** }
 2964              		.loc 1 42 0
 2965 0020 1CD04BE2 		sub	sp, fp, #28
 2966 0024 0F689DE8 		ldmfd	sp, {r0, r1, r2, r3, fp, sp, lr}
 2967 0028 04C09DE4 		ldmfd	sp!, {ip}
 2968 002c 04F05EE2 		subs	pc, lr, #4
 2969              		.cfi_endproc
 2970              	.LFE0:
 2972              		.align	2
 2973              		.global	button_ISR
 2975              	button_ISR:
 2976              	.LFB1:
  43:../main.c     **** 
  44:../main.c     **** void button_ISR(void)
  45:../main.c     **** {
 2977              		.loc 1 45 0
 2978              		.cfi_startproc
 2979              		@ Interrupt Service Routine.
 2980              		@ args = 0, pretend = 0, frame = 8
 2981              		@ frame_needed = 1, uses_anonymous_args = 0
 2982 0030 04C02DE5 		str	ip, [sp, #-4]!
 2983 0034 0DC0A0E1 		mov	ip, sp
 2984              	.LCFI2:
 2985              		.cfi_def_cfa_register 12
 2986 0038 0FD82DE9 		stmfd	sp!, {r0, r1, r2, r3, fp, ip, lr, pc}
 2987 003c 04B04CE2 		sub	fp, ip, #4
 2988              		.cfi_offset 14, -8
 2989              		.cfi_offset 13, -12
 2990              		.cfi_offset 11, -16
 2991              		.cfi_offset 3, -20
 2992              		.cfi_offset 2, -24
 2993              		.cfi_offset 1, -28
 2994              		.cfi_offset 0, -32
 2995              	.LCFI3:
 2996              		.cfi_def_cfa 11, 4
 2997 0040 08D04DE2 		sub	sp, sp, #8
  46:../main.c     **** 	unsigned int whicheint = rEXTINTPND;
 2998              		.loc 1 46 0
 2999 0044 80309FE5 		ldr	r3, .L5
 3000 0048 003093E5 		ldr	r3, [r3, #0]
 3001 004c 20300BE5 		str	r3, [fp, #-32]
  47:../main.c     **** 	unsigned int buttons = (whicheint >> 2) & 0x3;
 3002              		.loc 1 47 0
 3003 0050 20301BE5 		ldr	r3, [fp, #-32]
 3004 0054 2331A0E1 		mov	r3, r3, lsr #2
 3005 0058 033003E2 		and	r3, r3, #3
 3006 005c 24300BE5 		str	r3, [fp, #-36]
  48:../main.c     **** 
  49:../main.c     **** 	if (buttons & BUT1) {
  50:../main.c     **** 		//BUT1 pressed
  51:../main.c     **** 	}
  52:../main.c     **** 
  53:../main.c     **** 	if (buttons & BUT2) {
  54:../main.c     **** 		//BUT2 pressed
  55:../main.c     **** 	}
  56:../main.c     **** 
  57:../main.c     **** 	// eliminamos rebotes
  58:../main.c     **** 	Delay(2000);
 3007              		.loc 1 58 0
 3008 0060 7D0EA0E3 		mov	r0, #2000
 3009 0064 FEFFFFEB 		bl	Delay
  59:../main.c     **** 
  60:../main.c     **** 	// borramos el flag en extintpnd
  61:../main.c     **** 	//COMPLETAR: debemos borrar las peticiones de interrupci칩n en
  62:../main.c     **** 	//EXTINTPND escribiendo un 1 en los flags que queremos borrar (los
  63:../main.c     **** 	//correspondientes a los pulsadores pulsados)
  64:../main.c     **** 
  65:../main.c     **** 	if(buttons & BUT1)
 3010              		.loc 1 65 0
 3011 0068 24301BE5 		ldr	r3, [fp, #-36]
 3012 006c 013003E2 		and	r3, r3, #1
 3013 0070 FF3003E2 		and	r3, r3, #255
 3014 0074 000053E3 		cmp	r3, #0
 3015 0078 0400000A 		beq	.L3
  66:../main.c     **** 		//Borrar bit 2
  67:../main.c     **** 		rEXTINTPND |= 1 << 2;
 3016              		.loc 1 67 0
 3017 007c 48309FE5 		ldr	r3, .L5
 3018 0080 44209FE5 		ldr	r2, .L5
 3019 0084 002092E5 		ldr	r2, [r2, #0]
 3020 0088 042082E3 		orr	r2, r2, #4
 3021 008c 002083E5 		str	r2, [r3, #0]
 3022              	.L3:
  68:../main.c     **** 
  69:../main.c     **** 	if(buttons & BUT2)
 3023              		.loc 1 69 0
 3024 0090 24301BE5 		ldr	r3, [fp, #-36]
 3025 0094 023003E2 		and	r3, r3, #2
 3026 0098 000053E3 		cmp	r3, #0
 3027 009c 0400000A 		beq	.L4
  70:../main.c     **** 		//Borrar bit 3
  71:../main.c     **** 		rEXTINTPND |= 1 << 3;
 3028              		.loc 1 71 0
 3029 00a0 24309FE5 		ldr	r3, .L5
 3030 00a4 20209FE5 		ldr	r2, .L5
 3031 00a8 002092E5 		ldr	r2, [r2, #0]
 3032 00ac 082082E3 		orr	r2, r2, #8
 3033 00b0 002083E5 		str	r2, [r3, #0]
 3034              	.L4:
  72:../main.c     **** 
  73:../main.c     **** 	ic_cleanflag(INT_EINT4567);
 3035              		.loc 1 73 0
 3036 00b4 1500A0E3 		mov	r0, #21
 3037 00b8 FEFFFFEB 		bl	ic_cleanflag
  74:../main.c     **** }
 3038              		.loc 1 74 0
 3039 00bc 1CD04BE2 		sub	sp, fp, #28
 3040 00c0 0F689DE8 		ldmfd	sp, {r0, r1, r2, r3, fp, sp, lr}
 3041 00c4 04C09DE4 		ldmfd	sp!, {ip}
 3042 00c8 04F05EE2 		subs	pc, lr, #4
 3043              	.L6:
 3044              		.align	2
 3045              	.L5:
 3046 00cc 5400D201 		.word	30539860
 3047              		.cfi_endproc
 3048              	.LFE1:
 3050              		.align	2
 3051              		.global	keyboard_ISR
 3053              	keyboard_ISR:
 3054              	.LFB2:
  75:../main.c     **** 
  76:../main.c     **** void keyboard_ISR(void)
  77:../main.c     **** {
 3055              		.loc 1 77 0
 3056              		.cfi_startproc
 3057              		@ Interrupt Service Routine.
 3058              		@ args = 0, pretend = 0, frame = 8
 3059              		@ frame_needed = 1, uses_anonymous_args = 0
 3060 00d0 04C02DE5 		str	ip, [sp, #-4]!
 3061 00d4 0DC0A0E1 		mov	ip, sp
 3062              	.LCFI4:
 3063              		.cfi_def_cfa_register 12
 3064 00d8 0FD82DE9 		stmfd	sp!, {r0, r1, r2, r3, fp, ip, lr, pc}
 3065 00dc 04B04CE2 		sub	fp, ip, #4
 3066              		.cfi_offset 14, -8
 3067              		.cfi_offset 13, -12
 3068              		.cfi_offset 11, -16
 3069              		.cfi_offset 3, -20
 3070              		.cfi_offset 2, -24
 3071              		.cfi_offset 1, -28
 3072              		.cfi_offset 0, -32
 3073              	.LCFI5:
 3074              		.cfi_def_cfa 11, 4
 3075 00e0 08D04DE2 		sub	sp, sp, #8
  78:../main.c     **** 	static unsigned n = 0;
  79:../main.c     **** 	int key = -1;
 3076              		.loc 1 79 0
 3077 00e4 0030E0E3 		mvn	r3, #0
 3078 00e8 20300BE5 		str	r3, [fp, #-32]
  80:../main.c     **** 
  81:../main.c     **** 	/* Eliminar rebotes de presi칩n */
  82:../main.c     **** 	Delay(200);
 3079              		.loc 1 82 0
 3080 00ec C800A0E3 		mov	r0, #200
 3081 00f0 FEFFFFEB 		bl	Delay
  83:../main.c     **** 	
  84:../main.c     **** 	/* Escaneo de tecla */
  85:../main.c     **** 	key = kb_scan();
 3082              		.loc 1 85 0
 3083 00f4 FEFFFFEB 		bl	kb_scan
 3084 00f8 20000BE5 		str	r0, [fp, #-32]
  86:../main.c     **** 
  87:../main.c     **** 	n = (n+1) & 0xf;
 3085              		.loc 1 87 0
 3086 00fc 44309FE5 		ldr	r3, .L9
 3087 0100 003093E5 		ldr	r3, [r3, #0]
 3088 0104 013083E2 		add	r3, r3, #1
 3089 0108 0F2003E2 		and	r2, r3, #15
 3090 010c 34309FE5 		ldr	r3, .L9
 3091 0110 002083E5 		str	r2, [r3, #0]
  88:../main.c     **** 
  89:../main.c     **** 	if (key != -1) {
 3092              		.loc 1 89 0
 3093 0114 20301BE5 		ldr	r3, [fp, #-32]
 3094 0118 010073E3 		cmn	r3, #1
 3095 011c 0100000A 		beq	.L8
  90:../main.c     **** 		/* Visualizacion en el display */
  91:../main.c     **** 		//COMPLETAR: mostrar la tecla en el display utilizando el interfaz
  92:../main.c     **** 		//definido en D8Led.h
  93:../main.c     **** 
  94:../main.c     **** 		D8Led_digit(key);
 3096              		.loc 1 94 0
 3097 0120 20001BE5 		ldr	r0, [fp, #-32]
 3098 0124 FEFFFFEB 		bl	D8Led_digit
 3099              	.L8:
  95:../main.c     **** 		
  96:../main.c     **** 		/* Esperar a que la tecla se suelte, consultando el registro de datos */		
  97:../main.c     **** 		//while (/*COMPLETAR: true si est치 pulsada la tecla (leer del registro rPDATG)*/);
  98:../main.c     **** 	}
  99:../main.c     **** 
 100:../main.c     ****     /* Eliminar rebotes de depresi칩n */
 101:../main.c     ****     Delay(200);
 3100              		.loc 1 101 0
 3101 0128 C800A0E3 		mov	r0, #200
 3102 012c FEFFFFEB 		bl	Delay
 102:../main.c     ****      
 103:../main.c     ****     /* Borrar interrupciones pendientes */
 104:../main.c     **** 	//COMPLETAR
 105:../main.c     **** 	//borrar la interrupci칩n por la l칤nea EINT1 en el registro rI_ISPC
 106:../main.c     ****     ic_cleanflag(INT_EINT1);
 3103              		.loc 1 106 0
 3104 0130 1800A0E3 		mov	r0, #24
 3105 0134 FEFFFFEB 		bl	ic_cleanflag
 107:../main.c     **** }
 3106              		.loc 1 107 0
 3107 0138 1CD04BE2 		sub	sp, fp, #28
 3108 013c 0F689DE8 		ldmfd	sp, {r0, r1, r2, r3, fp, sp, lr}
 3109 0140 04C09DE4 		ldmfd	sp!, {ip}
 3110 0144 04F05EE2 		subs	pc, lr, #4
 3111              	.L10:
 3112              		.align	2
 3113              	.L9:
 3114 0148 10000000 		.word	n.5136
 3115              		.cfi_endproc
 3116              	.LFE2:
 3118              		.align	2
 3119              		.global	setup
 3121              	setup:
 3122              	.LFB3:
 108:../main.c     **** 
 109:../main.c     **** int setup(void)
 110:../main.c     **** {
 3123              		.loc 1 110 0
 3124              		.cfi_startproc
 3125              		@ Function supports interworking.
 3126              		@ args = 0, pretend = 0, frame = 0
 3127              		@ frame_needed = 1, uses_anonymous_args = 0
 3128 014c 0DC0A0E1 		mov	ip, sp
 3129              	.LCFI6:
 3130              		.cfi_def_cfa_register 12
 3131 0150 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3132 0154 04B04CE2 		sub	fp, ip, #4
 3133              		.cfi_offset 14, -8
 3134              		.cfi_offset 13, -12
 3135              		.cfi_offset 11, -16
 3136              	.LCFI7:
 3137              		.cfi_def_cfa 11, 4
 111:../main.c     **** 	leds_init();
 3138              		.loc 1 111 0
 3139 0158 FEFFFFEB 		bl	leds_init
 112:../main.c     **** 	D8Led_init();
 3140              		.loc 1 112 0
 3141 015c FEFFFFEB 		bl	D8Led_init
 113:../main.c     **** 	D8Led_segment(0x02); // "-" Symbol
 3142              		.loc 1 113 0
 3143 0160 0200A0E3 		mov	r0, #2
 3144 0164 FEFFFFEB 		bl	D8Led_segment
 114:../main.c     **** 	led1_on();
 3145              		.loc 1 114 0
 3146 0168 FEFFFFEB 		bl	led1_on
 115:../main.c     **** 
 116:../main.c     **** 	/* Port G: configuraci칩n para generaci칩n de interrupciones externas,
 117:../main.c     **** 	 *         botones y teclado
 118:../main.c     **** 	 **/
 119:../main.c     **** 
 120:../main.c     **** 	//COMPLETAR: utilizando el interfaz para el puerto G definido en gpio.h
 121:../main.c     **** 	//configurar los pines 1, 6 y 7 del puerto G para poder generar interrupciones
 122:../main.c     **** 	//externas por flanco de bajada por ellos y activar las correspondientes
 123:../main.c     **** 	//resistencias de pull-up.
 124:../main.c     **** 
 125:../main.c     **** 	portG_conf(6, EINT);
 3147              		.loc 1 125 0
 3148 016c 0600A0E3 		mov	r0, #6
 3149 0170 0310A0E3 		mov	r1, #3
 3150 0174 FEFFFFEB 		bl	portG_conf
 126:../main.c     **** 	portG_eint_trig(6, FALLING);
 3151              		.loc 1 126 0
 3152 0178 0600A0E3 		mov	r0, #6
 3153 017c 0210A0E3 		mov	r1, #2
 3154 0180 FEFFFFEB 		bl	portG_eint_trig
 127:../main.c     **** 	portG_conf_pup(6, ENABLE);
 3155              		.loc 1 127 0
 3156 0184 0600A0E3 		mov	r0, #6
 3157 0188 0110A0E3 		mov	r1, #1
 3158 018c FEFFFFEB 		bl	portG_conf_pup
 128:../main.c     **** 
 129:../main.c     **** 	portG_conf(7, EINT);
 3159              		.loc 1 129 0
 3160 0190 0700A0E3 		mov	r0, #7
 3161 0194 0310A0E3 		mov	r1, #3
 3162 0198 FEFFFFEB 		bl	portG_conf
 130:../main.c     **** 	portG_eint_trig(7, FALLING);
 3163              		.loc 1 130 0
 3164 019c 0700A0E3 		mov	r0, #7
 3165 01a0 0210A0E3 		mov	r1, #2
 3166 01a4 FEFFFFEB 		bl	portG_eint_trig
 131:../main.c     **** 	portG_conf_pup(7, ENABLE);
 3167              		.loc 1 131 0
 3168 01a8 0700A0E3 		mov	r0, #7
 3169 01ac 0110A0E3 		mov	r1, #1
 3170 01b0 FEFFFFEB 		bl	portG_conf_pup
 132:../main.c     **** 
 133:../main.c     **** 	/********************************************************************/
 134:../main.c     **** 
 135:../main.c     **** 	/* Configuraci칩n del timer */
 136:../main.c     **** 
 137:../main.c     **** 	//TIMER0: 0.5 seconds
 138:../main.c     **** 	tmr_set_mode(TIMER0, RELOAD);
 3171              		.loc 1 138 0
 3172 01b4 0000A0E3 		mov	r0, #0
 3173 01b8 0110A0E3 		mov	r1, #1
 3174 01bc FEFFFFEB 		bl	tmr_set_mode
 139:../main.c     **** 	tmr_set_prescaler(TIMER0, 255);
 3175              		.loc 1 139 0
 3176 01c0 0000A0E3 		mov	r0, #0
 3177 01c4 FF10A0E3 		mov	r1, #255
 3178 01c8 FEFFFFEB 		bl	tmr_set_prescaler
 140:../main.c     **** 	tmr_set_divider(TIMER0, D1_8);
 3179              		.loc 1 140 0
 3180 01cc 0000A0E3 		mov	r0, #0
 3181 01d0 0210A0E3 		mov	r1, #2
 3182 01d4 FEFFFFEB 		bl	tmr_set_divider
 141:../main.c     **** 	tmr_set_count(TIMER0, 62500 >> 3, 1);
 3183              		.loc 1 141 0
 3184 01d8 0000A0E3 		mov	r0, #0
 3185 01dc A8109FE5 		ldr	r1, .L12
 3186 01e0 0120A0E3 		mov	r2, #1
 3187 01e4 FEFFFFEB 		bl	tmr_set_count
 142:../main.c     **** 
 143:../main.c     **** 	tmr_update(TIMER0);
 3188              		.loc 1 143 0
 3189 01e8 0000A0E3 		mov	r0, #0
 3190 01ec FEFFFFEB 		bl	tmr_update
 144:../main.c     **** 
 145:../main.c     **** 	//COMPLETAR: tomar el c칩digo de la segunda parte
 146:../main.c     **** 
 147:../main.c     **** 	tmr_start(TIMER0);
 3191              		.loc 1 147 0
 3192 01f0 0000A0E3 		mov	r0, #0
 3193 01f4 FEFFFFEB 		bl	tmr_start
 148:../main.c     **** 
 149:../main.c     **** 	//if (RL.moving)
 150:../main.c     **** 	//
 151:../main.c     **** 	/***************************/
 152:../main.c     **** 
 153:../main.c     **** 	// Registramos las ISRs
 154:../main.c     **** 	pISR_TIMER0 = (unsigned)timer_ISR;//COMPLETAR: registrar la RTI del timer
 3194              		.loc 1 154 0
 3195 01f8 90309FE5 		ldr	r3, .L12+4
 3196 01fc 90209FE5 		ldr	r2, .L12+8
 3197 0200 002083E5 		str	r2, [r3, #0]
 155:../main.c     **** 	pISR_EINT4567 = (unsigned)button_ISR; //COMPLETAR: registrar la RTI de los botones
 3198              		.loc 1 155 0
 3199 0204 8C309FE5 		ldr	r3, .L12+12
 3200 0208 8C209FE5 		ldr	r2, .L12+16
 3201 020c 002083E5 		str	r2, [r3, #0]
 156:../main.c     **** 	pISR_EINT1    = (unsigned)keyboard_ISR; //COMPLETAR: registrar la RTI del teclado
 3202              		.loc 1 156 0
 3203 0210 88309FE5 		ldr	r3, .L12+20
 3204 0214 88209FE5 		ldr	r2, .L12+24
 3205 0218 002083E5 		str	r2, [r3, #0]
 157:../main.c     **** 
 158:../main.c     **** 	/* Configuraci칩n del controlador de interrupciones
 159:../main.c     **** 	 * Habilitamos la l칤nea IRQ, en modo vectorizado 
 160:../main.c     **** 	 * Configuramos el timer 0 en modo IRQ y habilitamos esta l칤nea
 161:../main.c     **** 	 * Configuramos la l칤nea EINT4567 en modo IRQ y la habilitamos
 162:../main.c     **** 	 * Configuramos la l칤nea EINT1 en modo IRQ y la habilitamos
 163:../main.c     **** 	 */
 164:../main.c     **** 
 165:../main.c     **** 	uart0_init();
 3206              		.loc 1 165 0
 3207 021c FEFFFFEB 		bl	uart0_init
 166:../main.c     **** 	iic_init();
 3208              		.loc 1 166 0
 3209 0220 FEFFFFEB 		bl	iic_init
 167:../main.c     **** 	rtc_init();
 3210              		.loc 1 167 0
 3211 0224 FEFFFFEB 		bl	rtc_init
 168:../main.c     **** 	ic_init();
 3212              		.loc 1 168 0
 3213 0228 FEFFFFEB 		bl	ic_init
 169:../main.c     **** 
 170:../main.c     **** 	//COMPLETAR: utilizando el interfaz definido en intcontroller.h
 171:../main.c     **** 	//		habilitar la l칤nea IRQ en modo vectorizado
 172:../main.c     **** 	//		deshabilitar la l칤nea FIQ
 173:../main.c     **** 	//		configurar la l칤nea INT_TIMER0 en modo IRQ
 174:../main.c     **** 	//		configurar la l칤nea INT_EINT4567 en modo IRQ
 175:../main.c     **** 	//		configurar la l칤nea INT_EINT1 en modo IRQ
 176:../main.c     **** 	//		habilitar la l칤nea INT_TIMER0
 177:../main.c     **** 	//		habilitar la l칤nea INT_EINT4567
 178:../main.c     **** 	//		habilitar la l칤nea INT_EINT1
 179:../main.c     **** 
 180:../main.c     **** 	/***************************************************/
 181:../main.c     **** 
 182:../main.c     **** 	ic_conf_irq(ENABLE, VEC);
 3214              		.loc 1 182 0
 3215 022c 0100A0E3 		mov	r0, #1
 3216 0230 0010A0E3 		mov	r1, #0
 3217 0234 FEFFFFEB 		bl	ic_conf_irq
 183:../main.c     **** 	ic_conf_fiq(DISABLE);
 3218              		.loc 1 183 0
 3219 0238 0000A0E3 		mov	r0, #0
 3220 023c FEFFFFEB 		bl	ic_conf_fiq
 184:../main.c     **** 
 185:../main.c     **** 	ic_conf_line(INT_TIMER0, IRQ);
 3221              		.loc 1 185 0
 3222 0240 0D00A0E3 		mov	r0, #13
 3223 0244 0010A0E3 		mov	r1, #0
 3224 0248 FEFFFFEB 		bl	ic_conf_line
 186:../main.c     **** 	ic_conf_line(INT_EINT4567, IRQ);
 3225              		.loc 1 186 0
 3226 024c 1500A0E3 		mov	r0, #21
 3227 0250 0010A0E3 		mov	r1, #0
 3228 0254 FEFFFFEB 		bl	ic_conf_line
 187:../main.c     **** 	ic_conf_line(INT_EINT1, IRQ);
 3229              		.loc 1 187 0
 3230 0258 1800A0E3 		mov	r0, #24
 3231 025c 0010A0E3 		mov	r1, #0
 3232 0260 FEFFFFEB 		bl	ic_conf_line
 188:../main.c     **** 
 189:../main.c     **** 	//ic_enable(INT_TIMER0);
 190:../main.c     **** 	//ic_enable(INT_EINT4567);
 191:../main.c     **** 	//ic_enable(INT_EINT1);
 192:../main.c     **** 
 193:../main.c     **** 	ic_enable(INT_GLOBAL);
 3233              		.loc 1 193 0
 3234 0264 1A00A0E3 		mov	r0, #26
 3235 0268 FEFFFFEB 		bl	ic_enable
 194:../main.c     **** 
 195:../main.c     **** 	lcd_init();
 3236              		.loc 1 195 0
 3237 026c FEFFFFEB 		bl	lcd_init
 196:../main.c     **** 
 197:../main.c     **** 	Delay(0);
 3238              		.loc 1 197 0
 3239 0270 0000A0E3 		mov	r0, #0
 3240 0274 FEFFFFEB 		bl	Delay
 198:../main.c     **** 	return 0;
 3241              		.loc 1 198 0
 3242 0278 0030A0E3 		mov	r3, #0
 199:../main.c     **** }
 3243              		.loc 1 199 0
 3244 027c 0300A0E1 		mov	r0, r3
 3245 0280 0CD04BE2 		sub	sp, fp, #12
 3246 0284 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3247 0288 1EFF2FE1 		bx	lr
 3248              	.L13:
 3249              		.align	2
 3250              	.L12:
 3251 028c 841E0000 		.word	7812
 3252 0290 54FF7F0C 		.word	209715028
 3253 0294 00000000 		.word	timer_ISR
 3254 0298 74FF7F0C 		.word	209715060
 3255 029c 00000000 		.word	button_ISR
 3256 02a0 80FF7F0C 		.word	209715072
 3257 02a4 00000000 		.word	keyboard_ISR
 3258              		.cfi_endproc
 3259              	.LFE3:
 3261              		.section	.rodata
 3262              		.align	2
 3263              	.LC0:
 3264 0000 0A446961 		.ascii	"\012Dia: \000"
 3264      3A2000
 3265 0007 00       		.align	2
 3266              	.LC1:
 3267 0008 0A4D6573 		.ascii	"\012Mes: \000"
 3267      3A2000
 3268 000f 00       		.align	2
 3269              	.LC2:
 3270 0010 0A41F16F 		.ascii	"\012A\361o: \000"
 3270      3A2000
 3271 0017 00       		.align	2
 3272              	.LC3:
 3273 0018 0A446961 		.ascii	"\012Dia de la semana: \000"
 3273      20646520 
 3273      6C612073 
 3273      656D616E 
 3273      613A2000 
 3274              		.align	2
 3275              	.LC4:
 3276 002c 0A486F72 		.ascii	"\012Hora: \000"
 3276      613A2000 
 3277              		.align	2
 3278              	.LC5:
 3279 0034 0A4D696E 		.ascii	"\012Minutos: \000"
 3279      75746F73 
 3279      3A2000
 3280 003f 00       		.align	2
 3281              	.LC6:
 3282 0040 0A536567 		.ascii	"\012Segundos: \000"
 3282      756E646F 
 3282      733A2000 
 3283              		.text
 3284              		.align	2
 3285              		.global	read_date
 3287              	read_date:
 3288              	.LFB4:
 200:../main.c     **** 
 201:../main.c     **** void read_date(rtc_time_t* rtc_time)
 202:../main.c     **** {
 3289              		.loc 1 202 0
 3290              		.cfi_startproc
 3291              		@ Function supports interworking.
 3292              		@ args = 0, pretend = 0, frame = 8
 3293              		@ frame_needed = 1, uses_anonymous_args = 0
 3294 02a8 0DC0A0E1 		mov	ip, sp
 3295              	.LCFI8:
 3296              		.cfi_def_cfa_register 12
 3297 02ac 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3298 02b0 04B04CE2 		sub	fp, ip, #4
 3299              		.cfi_offset 14, -8
 3300              		.cfi_offset 13, -12
 3301              		.cfi_offset 11, -16
 3302              	.LCFI9:
 3303              		.cfi_def_cfa 11, 4
 3304 02b4 08D04DE2 		sub	sp, sp, #8
 3305 02b8 10000BE5 		str	r0, [fp, #-16]
 203:../main.c     **** 	uart0_puts( "\nDia: " );
 3306              		.loc 1 203 0
 3307 02bc C8009FE5 		ldr	r0, .L15
 3308 02c0 FEFFFFEB 		bl	uart0_puts
 204:../main.c     **** 	rtc_time->mday = uart0_getint();
 3309              		.loc 1 204 0
 3310 02c4 FEFFFFEB 		bl	uart0_getint
 3311 02c8 0030A0E1 		mov	r3, r0
 3312 02cc FF2003E2 		and	r2, r3, #255
 3313 02d0 10301BE5 		ldr	r3, [fp, #-16]
 3314 02d4 0320C3E5 		strb	r2, [r3, #3]
 205:../main.c     **** 	uart0_puts( "\nMes: " );
 3315              		.loc 1 205 0
 3316 02d8 B0009FE5 		ldr	r0, .L15+4
 3317 02dc FEFFFFEB 		bl	uart0_puts
 206:../main.c     **** 	rtc_time->mon = uart0_getint();
 3318              		.loc 1 206 0
 3319 02e0 FEFFFFEB 		bl	uart0_getint
 3320 02e4 0030A0E1 		mov	r3, r0
 3321 02e8 FF2003E2 		and	r2, r3, #255
 3322 02ec 10301BE5 		ldr	r3, [fp, #-16]
 3323 02f0 0520C3E5 		strb	r2, [r3, #5]
 207:../main.c     **** 	uart0_puts( "\nA絪: " );
 3324              		.loc 1 207 0
 3325 02f4 98009FE5 		ldr	r0, .L15+8
 3326 02f8 FEFFFFEB 		bl	uart0_puts
 208:../main.c     **** 	rtc_time->year = uart0_getint();
 3327              		.loc 1 208 0
 3328 02fc FEFFFFEB 		bl	uart0_getint
 3329 0300 0030A0E1 		mov	r3, r0
 3330 0304 FF2003E2 		and	r2, r3, #255
 3331 0308 10301BE5 		ldr	r3, [fp, #-16]
 3332 030c 0620C3E5 		strb	r2, [r3, #6]
 209:../main.c     **** 	uart0_puts( "\nDia de la semana: " );
 3333              		.loc 1 209 0
 3334 0310 80009FE5 		ldr	r0, .L15+12
 3335 0314 FEFFFFEB 		bl	uart0_puts
 210:../main.c     **** 	rtc_time->wday = uart0_getint();
 3336              		.loc 1 210 0
 3337 0318 FEFFFFEB 		bl	uart0_getint
 3338 031c 0030A0E1 		mov	r3, r0
 3339 0320 FF2003E2 		and	r2, r3, #255
 3340 0324 10301BE5 		ldr	r3, [fp, #-16]
 3341 0328 0420C3E5 		strb	r2, [r3, #4]
 211:../main.c     **** 
 212:../main.c     **** 	uart0_puts( "\nHora: " );
 3342              		.loc 1 212 0
 3343 032c 68009FE5 		ldr	r0, .L15+16
 3344 0330 FEFFFFEB 		bl	uart0_puts
 213:../main.c     **** 	rtc_time->hour = uart0_getint();
 3345              		.loc 1 213 0
 3346 0334 FEFFFFEB 		bl	uart0_getint
 3347 0338 0030A0E1 		mov	r3, r0
 3348 033c FF2003E2 		and	r2, r3, #255
 3349 0340 10301BE5 		ldr	r3, [fp, #-16]
 3350 0344 0220C3E5 		strb	r2, [r3, #2]
 214:../main.c     **** 	uart0_puts( "\nMinutos: " );
 3351              		.loc 1 214 0
 3352 0348 50009FE5 		ldr	r0, .L15+20
 3353 034c FEFFFFEB 		bl	uart0_puts
 215:../main.c     **** 	rtc_time->min = uart0_getint();
 3354              		.loc 1 215 0
 3355 0350 FEFFFFEB 		bl	uart0_getint
 3356 0354 0030A0E1 		mov	r3, r0
 3357 0358 FF2003E2 		and	r2, r3, #255
 3358 035c 10301BE5 		ldr	r3, [fp, #-16]
 3359 0360 0120C3E5 		strb	r2, [r3, #1]
 216:../main.c     **** 	uart0_puts( "\nSegundos: " );
 3360              		.loc 1 216 0
 3361 0364 38009FE5 		ldr	r0, .L15+24
 3362 0368 FEFFFFEB 		bl	uart0_puts
 217:../main.c     **** 	rtc_time->sec = uart0_getint();
 3363              		.loc 1 217 0
 3364 036c FEFFFFEB 		bl	uart0_getint
 3365 0370 0030A0E1 		mov	r3, r0
 3366 0374 FF2003E2 		and	r2, r3, #255
 3367 0378 10301BE5 		ldr	r3, [fp, #-16]
 3368 037c 0020C3E5 		strb	r2, [r3, #0]
 218:../main.c     **** }
 3369              		.loc 1 218 0
 3370 0380 0CD04BE2 		sub	sp, fp, #12
 3371 0384 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3372 0388 1EFF2FE1 		bx	lr
 3373              	.L16:
 3374              		.align	2
 3375              	.L15:
 3376 038c 00000000 		.word	.LC0
 3377 0390 08000000 		.word	.LC1
 3378 0394 10000000 		.word	.LC2
 3379 0398 18000000 		.word	.LC3
 3380 039c 2C000000 		.word	.LC4
 3381 03a0 34000000 		.word	.LC5
 3382 03a4 40000000 		.word	.LC6
 3383              		.cfi_endproc
 3384              	.LFE4:
 3386              		.align	2
 3387              		.global	rtc_ISR
 3389              	rtc_ISR:
 3390              	.LFB5:
 219:../main.c     **** 
 220:../main.c     **** void rtc_ISR() {
 3391              		.loc 1 220 0
 3392              		.cfi_startproc
 3393              		@ Interrupt Service Routine.
 3394              		@ args = 0, pretend = 0, frame = 0
 3395              		@ frame_needed = 1, uses_anonymous_args = 0
 3396 03a8 04C02DE5 		str	ip, [sp, #-4]!
 3397 03ac 0DC0A0E1 		mov	ip, sp
 3398              	.LCFI10:
 3399              		.cfi_def_cfa_register 12
 3400 03b0 0FD82DE9 		stmfd	sp!, {r0, r1, r2, r3, fp, ip, lr, pc}
 3401 03b4 04B04CE2 		sub	fp, ip, #4
 3402              		.cfi_offset 14, -8
 3403              		.cfi_offset 13, -12
 3404              		.cfi_offset 11, -16
 3405              		.cfi_offset 3, -20
 3406              		.cfi_offset 2, -24
 3407              		.cfi_offset 1, -28
 3408              		.cfi_offset 0, -32
 3409              	.LCFI11:
 3410              		.cfi_def_cfa 11, 4
 221:../main.c     **** 	static rtc_time_t rtc_time;
 222:../main.c     **** 
 223:../main.c     **** 	rtc_gettime(&rtc_time);
 3411              		.loc 1 223 0
 3412 03b8 28009FE5 		ldr	r0, .L18
 3413 03bc FEFFFFEB 		bl	rtc_gettime
 224:../main.c     **** 	uart0_put_rtc_time(&rtc_time);
 3414              		.loc 1 224 0
 3415 03c0 20009FE5 		ldr	r0, .L18
 3416 03c4 FEFFFFEB 		bl	uart0_put_rtc_time
 225:../main.c     **** 	uart0_putchar('\n');
 3417              		.loc 1 225 0
 3418 03c8 0A00A0E3 		mov	r0, #10
 3419 03cc FEFFFFEB 		bl	uart0_putchar
 226:../main.c     **** 
 227:../main.c     **** 	ic_cleanflag(INT_TICK);
 3420              		.loc 1 227 0
 3421 03d0 1400A0E3 		mov	r0, #20
 3422 03d4 FEFFFFEB 		bl	ic_cleanflag
 228:../main.c     **** }
 3423              		.loc 1 228 0
 3424 03d8 1CD04BE2 		sub	sp, fp, #28
 3425 03dc 0F689DE8 		ldmfd	sp, {r0, r1, r2, r3, fp, sp, lr}
 3426 03e0 04C09DE4 		ldmfd	sp!, {ip}
 3427 03e4 04F05EE2 		subs	pc, lr, #4
 3428              	.L19:
 3429              		.align	2
 3430              	.L18:
 3431 03e8 08000000 		.word	rtc_time.5146
 3432              		.cfi_endproc
 3433              	.LFE5:
 3435              		.section	.rodata
 3436              		.align	2
 3437              	.LC7:
 3438 004c 0A414C41 		.ascii	"\012ALARM GOES OFF!\012\000"
 3438      524D2047 
 3438      4F455320 
 3438      4F464621 
 3438      0A00
 3439              		.text
 3440              		.align	2
 3441              		.global	rtc_alarm_ISR
 3443              	rtc_alarm_ISR:
 3444              	.LFB6:
 229:../main.c     **** 
 230:../main.c     **** void rtc_alarm_ISR(void) {
 3445              		.loc 1 230 0
 3446              		.cfi_startproc
 3447              		@ Interrupt Service Routine.
 3448              		@ args = 0, pretend = 0, frame = 0
 3449              		@ frame_needed = 1, uses_anonymous_args = 0
 3450 03ec 04C02DE5 		str	ip, [sp, #-4]!
 3451 03f0 0DC0A0E1 		mov	ip, sp
 3452              	.LCFI12:
 3453              		.cfi_def_cfa_register 12
 3454 03f4 0FD82DE9 		stmfd	sp!, {r0, r1, r2, r3, fp, ip, lr, pc}
 3455 03f8 04B04CE2 		sub	fp, ip, #4
 3456              		.cfi_offset 14, -8
 3457              		.cfi_offset 13, -12
 3458              		.cfi_offset 11, -16
 3459              		.cfi_offset 3, -20
 3460              		.cfi_offset 2, -24
 3461              		.cfi_offset 1, -28
 3462              		.cfi_offset 0, -32
 3463              	.LCFI13:
 3464              		.cfi_def_cfa 11, 4
 231:../main.c     **** 	uart0_puts("\nALARM GOES OFF!\n");
 3465              		.loc 1 231 0
 3466 03fc 18009FE5 		ldr	r0, .L21
 3467 0400 FEFFFFEB 		bl	uart0_puts
 232:../main.c     **** 	ic_cleanflag(INT_RTC);
 3468              		.loc 1 232 0
 3469 0404 0100A0E3 		mov	r0, #1
 3470 0408 FEFFFFEB 		bl	ic_cleanflag
 233:../main.c     **** }
 3471              		.loc 1 233 0
 3472 040c 1CD04BE2 		sub	sp, fp, #28
 3473 0410 0F689DE8 		ldmfd	sp, {r0, r1, r2, r3, fp, sp, lr}
 3474 0414 04C09DE4 		ldmfd	sp!, {ip}
 3475 0418 04F05EE2 		subs	pc, lr, #4
 3476              	.L22:
 3477              		.align	2
 3478              	.L21:
 3479 041c 4C000000 		.word	.LC7
 3480              		.cfi_endproc
 3481              	.LFE6:
 3483              		.section	.rodata
 3484 005e 0000     		.align	2
 3485              	.LC8:
 3486 0060 496E6974 		.ascii	"Initial time: \012\000"
 3486      69616C20 
 3486      74696D65 
 3486      3A200A00 
 3487              		.align	2
 3488              	.LC9:
 3489 0070 416C6172 		.ascii	"Alarm time: \000"
 3489      6D207469 
 3489      6D653A20 
 3489      00
 3490 007d 000000   		.text
 3491              		.align	2
 3492              		.global	clock_setup
 3494              	clock_setup:
 3495              	.LFB7:
 234:../main.c     **** 
 235:../main.c     **** void clock_setup() {
 3496              		.loc 1 235 0
 3497              		.cfi_startproc
 3498              		@ Function supports interworking.
 3499              		@ args = 0, pretend = 0, frame = 0
 3500              		@ frame_needed = 1, uses_anonymous_args = 0
 3501 0420 0DC0A0E1 		mov	ip, sp
 3502              	.LCFI14:
 3503              		.cfi_def_cfa_register 12
 3504 0424 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3505 0428 04B04CE2 		sub	fp, ip, #4
 3506              		.cfi_offset 14, -8
 3507              		.cfi_offset 13, -12
 3508              		.cfi_offset 11, -16
 3509              	.LCFI15:
 3510              		.cfi_def_cfa 11, 4
 236:../main.c     **** 	static rtc_time_t rtc_time;
 237:../main.c     **** 	uart0_puts("Initial time: \n");
 3511              		.loc 1 237 0
 3512 042c 28019FE5 		ldr	r0, .L27
 3513 0430 FEFFFFEB 		bl	uart0_puts
 238:../main.c     **** 	rtc_gettime(&rtc_time);
 3514              		.loc 1 238 0
 3515 0434 24019FE5 		ldr	r0, .L27+4
 3516 0438 FEFFFFEB 		bl	rtc_gettime
 239:../main.c     **** 	uart0_put_rtc_time(&rtc_time);
 3517              		.loc 1 239 0
 3518 043c 1C019FE5 		ldr	r0, .L27+4
 3519 0440 FEFFFFEB 		bl	uart0_put_rtc_time
 240:../main.c     **** 
 241:../main.c     **** 	//Ask for time first time
 242:../main.c     **** 	read_date(&rtc_time);
 3520              		.loc 1 242 0
 3521 0444 14019FE5 		ldr	r0, .L27+4
 3522 0448 FEFFFFEB 		bl	read_date
 243:../main.c     **** 	rtc_puttime(&rtc_time);
 3523              		.loc 1 243 0
 3524 044c 0C019FE5 		ldr	r0, .L27+4
 3525 0450 FEFFFFEB 		bl	rtc_puttime
 244:../main.c     **** 
 245:../main.c     **** 	//Set alarm 10 seconds from now (imperfect but enough)
 246:../main.c     **** 
 247:../main.c     **** 	rtc_time.sec += 10;
 3526              		.loc 1 247 0
 3527 0454 04319FE5 		ldr	r3, .L27+4
 3528 0458 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3529 045c 0A3083E2 		add	r3, r3, #10
 3530 0460 FF2003E2 		and	r2, r3, #255
 3531 0464 F4309FE5 		ldr	r3, .L27+4
 3532 0468 0020C3E5 		strb	r2, [r3, #0]
 248:../main.c     **** 	if(rtc_time.sec >= 60) {
 3533              		.loc 1 248 0
 3534 046c EC309FE5 		ldr	r3, .L27+4
 3535 0470 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3536 0474 3B0053E3 		cmp	r3, #59
 3537 0478 0B00009A 		bls	.L24
 249:../main.c     **** 		rtc_time.sec -= 60;
 3538              		.loc 1 249 0
 3539 047c DC309FE5 		ldr	r3, .L27+4
 3540 0480 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3541 0484 3C3043E2 		sub	r3, r3, #60
 3542 0488 FF2003E2 		and	r2, r3, #255
 3543 048c CC309FE5 		ldr	r3, .L27+4
 3544 0490 0020C3E5 		strb	r2, [r3, #0]
 250:../main.c     **** 		rtc_time.min++;
 3545              		.loc 1 250 0
 3546 0494 C4309FE5 		ldr	r3, .L27+4
 3547 0498 0130D3E5 		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3548 049c 013083E2 		add	r3, r3, #1
 3549 04a0 FF2003E2 		and	r2, r3, #255
 3550 04a4 B4309FE5 		ldr	r3, .L27+4
 3551 04a8 0120C3E5 		strb	r2, [r3, #1]
 3552              	.L24:
 251:../main.c     **** 	}
 252:../main.c     **** 
 253:../main.c     **** 	if(rtc_time.min >= 60) {
 3553              		.loc 1 253 0
 3554 04ac AC309FE5 		ldr	r3, .L27+4
 3555 04b0 0130D3E5 		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3556 04b4 3B0053E3 		cmp	r3, #59
 3557 04b8 0B00009A 		bls	.L25
 254:../main.c     **** 		rtc_time.min -= 60;
 3558              		.loc 1 254 0
 3559 04bc 9C309FE5 		ldr	r3, .L27+4
 3560 04c0 0130D3E5 		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3561 04c4 3C3043E2 		sub	r3, r3, #60
 3562 04c8 FF2003E2 		and	r2, r3, #255
 3563 04cc 8C309FE5 		ldr	r3, .L27+4
 3564 04d0 0120C3E5 		strb	r2, [r3, #1]
 255:../main.c     **** 		rtc_time.hour++;
 3565              		.loc 1 255 0
 3566 04d4 84309FE5 		ldr	r3, .L27+4
 3567 04d8 0230D3E5 		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3568 04dc 013083E2 		add	r3, r3, #1
 3569 04e0 FF2003E2 		and	r2, r3, #255
 3570 04e4 74309FE5 		ldr	r3, .L27+4
 3571 04e8 0220C3E5 		strb	r2, [r3, #2]
 3572              	.L25:
 256:../main.c     **** 	}
 257:../main.c     **** 
 258:../main.c     **** 	if(rtc_time.hour >= 24) {
 3573              		.loc 1 258 0
 3574 04ec 6C309FE5 		ldr	r3, .L27+4
 3575 04f0 0230D3E5 		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3576 04f4 170053E3 		cmp	r3, #23
 3577 04f8 0B00009A 		bls	.L26
 259:../main.c     **** 		rtc_time.hour--;
 3578              		.loc 1 259 0
 3579 04fc 5C309FE5 		ldr	r3, .L27+4
 3580 0500 0230D3E5 		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 3581 0504 013043E2 		sub	r3, r3, #1
 3582 0508 FF2003E2 		and	r2, r3, #255
 3583 050c 4C309FE5 		ldr	r3, .L27+4
 3584 0510 0220C3E5 		strb	r2, [r3, #2]
 260:../main.c     **** 		rtc_time.mday++;
 3585              		.loc 1 260 0
 3586 0514 44309FE5 		ldr	r3, .L27+4
 3587 0518 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3588 051c 013083E2 		add	r3, r3, #1
 3589 0520 FF2003E2 		and	r2, r3, #255
 3590 0524 34309FE5 		ldr	r3, .L27+4
 3591 0528 0320C3E5 		strb	r2, [r3, #3]
 3592              	.L26:
 261:../main.c     **** 	}
 262:../main.c     **** 
 263:../main.c     **** 	uart0_puts("Alarm time: ");
 3593              		.loc 1 263 0
 3594 052c 30009FE5 		ldr	r0, .L27+8
 3595 0530 FEFFFFEB 		bl	uart0_puts
 264:../main.c     **** 	uart0_put_rtc_time(&rtc_time);
 3596              		.loc 1 264 0
 3597 0534 24009FE5 		ldr	r0, .L27+4
 3598 0538 FEFFFFEB 		bl	uart0_put_rtc_time
 265:../main.c     **** 	uart0_putchar('\n');
 3599              		.loc 1 265 0
 3600 053c 0A00A0E3 		mov	r0, #10
 3601 0540 FEFFFFEB 		bl	uart0_putchar
 266:../main.c     **** 
 267:../main.c     **** 	rtc_set_alarm(rtc_alarm_ISR, &rtc_time);
 3602              		.loc 1 267 0
 3603 0544 1C009FE5 		ldr	r0, .L27+12
 3604 0548 10109FE5 		ldr	r1, .L27+4
 3605 054c FEFFFFEB 		bl	rtc_set_alarm
 268:../main.c     **** }
 3606              		.loc 1 268 0
 3607 0550 0CD04BE2 		sub	sp, fp, #12
 3608 0554 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3609 0558 1EFF2FE1 		bx	lr
 3610              	.L28:
 3611              		.align	2
 3612              	.L27:
 3613 055c 60000000 		.word	.LC8
 3614 0560 00000000 		.word	rtc_time.5152
 3615 0564 70000000 		.word	.LC9
 3616 0568 00000000 		.word	rtc_alarm_ISR
 3617              		.cfi_endproc
 3618              	.LFE7:
 3620              		.align	2
 3621              		.global	startup
 3623              	startup:
 3624              	.LFB8:
 269:../main.c     **** 
 270:../main.c     **** void startup() {
 3625              		.loc 1 270 0
 3626              		.cfi_startproc
 3627              		@ Function supports interworking.
 3628              		@ args = 0, pretend = 0, frame = 0
 3629              		@ frame_needed = 1, uses_anonymous_args = 0
 3630 056c 0DC0A0E1 		mov	ip, sp
 3631              	.LCFI16:
 3632              		.cfi_def_cfa_register 12
 3633 0570 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3634 0574 04B04CE2 		sub	fp, ip, #4
 3635              		.cfi_offset 14, -8
 3636              		.cfi_offset 13, -12
 3637              		.cfi_offset 11, -16
 3638              	.LCFI17:
 3639              		.cfi_def_cfa 11, 4
 271:../main.c     **** 	test_WAV();
 3640              		.loc 1 271 0
 3641 0578 FEFFFFEB 		bl	test_WAV
 272:../main.c     **** }
 3642              		.loc 1 272 0
 3643 057c 0CD04BE2 		sub	sp, fp, #12
 3644 0580 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3645 0584 1EFF2FE1 		bx	lr
 3646              		.cfi_endproc
 3647              	.LFE8:
 3649              		.align	2
 3650              		.global	loop
 3652              	loop:
 3653              	.LFB9:
 273:../main.c     **** 
 274:../main.c     **** int loop(void) {
 3654              		.loc 1 274 0
 3655              		.cfi_startproc
 3656              		@ Function supports interworking.
 3657              		@ args = 0, pretend = 0, frame = 0
 3658              		@ frame_needed = 1, uses_anonymous_args = 0
 3659 0588 0DC0A0E1 		mov	ip, sp
 3660              	.LCFI18:
 3661              		.cfi_def_cfa_register 12
 3662 058c 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3663 0590 04B04CE2 		sub	fp, ip, #4
 3664              		.cfi_offset 14, -8
 3665              		.cfi_offset 13, -12
 3666              		.cfi_offset 11, -16
 3667              	.LCFI19:
 3668              		.cfi_def_cfa 11, 4
 275:../main.c     **** 	return 0;
 3669              		.loc 1 275 0
 3670 0594 0030A0E3 		mov	r3, #0
 276:../main.c     **** }
 3671              		.loc 1 276 0
 3672 0598 0300A0E1 		mov	r0, r3
 3673 059c 0CD04BE2 		sub	sp, fp, #12
 3674 05a0 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3675 05a4 1EFF2FE1 		bx	lr
 3676              		.cfi_endproc
 3677              	.LFE9:
 3679              		.align	2
 3680              		.global	main
 3682              	main:
 3683              	.LFB10:
 277:../main.c     **** 
 278:../main.c     **** int main(void) {
 3684              		.loc 1 278 0
 3685              		.cfi_startproc
 3686              		@ Function supports interworking.
 3687              		@ args = 0, pretend = 0, frame = 0
 3688              		@ frame_needed = 1, uses_anonymous_args = 0
 3689 05a8 0DC0A0E1 		mov	ip, sp
 3690              	.LCFI20:
 3691              		.cfi_def_cfa_register 12
 3692 05ac 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3693 05b0 04B04CE2 		sub	fp, ip, #4
 3694              		.cfi_offset 14, -8
 3695              		.cfi_offset 13, -12
 3696              		.cfi_offset 11, -16
 3697              	.LCFI21:
 3698              		.cfi_def_cfa 11, 4
 279:../main.c     **** 
 280:../main.c     **** 	setup();
 3699              		.loc 1 280 0
 3700 05b4 FEFFFFEB 		bl	setup
 281:../main.c     **** 	startup();
 3701              		.loc 1 281 0
 3702 05b8 FEFFFFEB 		bl	startup
 3703              	.L32:
 282:../main.c     **** 
 283:../main.c     **** 	while (1) {
 284:../main.c     **** 		loop();
 3704              		.loc 1 284 0 discriminator 1
 3705 05bc FEFFFFEB 		bl	loop
 285:../main.c     **** 	}
 3706              		.loc 1 285 0 discriminator 1
 3707 05c0 FDFFFFEA 		b	.L32
 3708              		.cfi_endproc
 3709              	.LFE10:
 3711              		.bss
 3712              		.align	2
 3713              	rtc_time.5152:
 3714 0000 00000000 		.space	7
 3714      000000
 3715 0007 00       		.align	2
 3716              	rtc_time.5146:
 3717 0008 00000000 		.space	7
 3717      000000
 3718 000f 00       		.align	2
 3719              	n.5136:
 3720 0010 00000000 		.space	4
 3721              		.text
 3722              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:2932   .text:00000000 $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:2935   .text:00000000 timer_ISR
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:2975   .text:00000030 button_ISR
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3046   .text:000000cc $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3050   .text:000000d0 $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3053   .text:000000d0 keyboard_ISR
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3114   .text:00000148 $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3719   .bss:00000010 n.5136
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3118   .text:0000014c $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3121   .text:0000014c setup
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3251   .text:0000028c $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3262   .rodata:00000000 $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3284   .text:000002a8 $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3287   .text:000002a8 read_date
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3376   .text:0000038c $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3386   .text:000003a8 $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3389   .text:000003a8 rtc_ISR
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3431   .text:000003e8 $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3716   .bss:00000008 rtc_time.5146
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3440   .text:000003ec $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3443   .text:000003ec rtc_alarm_ISR
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3479   .text:0000041c $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3491   .text:00000420 $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3494   .text:00000420 clock_setup
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3613   .text:0000055c $d
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3713   .bss:00000000 rtc_time.5152
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3620   .text:0000056c $a
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3623   .text:0000056c startup
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3652   .text:00000588 loop
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3682   .text:000005a8 main
C:\Users\Pedro\AppData\Local\Temp\cc0q2QL4.s:3712   .bss:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
led1_switch
led2_switch
ic_cleanflag
Delay
kb_scan
D8Led_digit
leds_init
D8Led_init
D8Led_segment
led1_on
portG_conf
portG_eint_trig
portG_conf_pup
tmr_set_mode
tmr_set_prescaler
tmr_set_divider
tmr_set_count
tmr_update
tmr_start
uart0_init
iic_init
rtc_init
ic_init
ic_conf_irq
ic_conf_fiq
ic_conf_line
ic_enable
lcd_init
uart0_puts
uart0_getint
rtc_gettime
uart0_put_rtc_time
uart0_putchar
rtc_puttime
rtc_set_alarm
test_WAV
